import{_ as ne}from"./h94WGHQT.js";import ae from"./DjDYCfWB.js";import le from"./BXDmeHg8.js";import re from"./G58EDxmG.js";import{y as L,z as B,A as ie,B as ce,C as ue,d as A,c as d,e as g,D as j,n as E,E as l,G as N,r as M,H as z,I as de,J as pe,K as me,L as fe,M as se,N as _e,O as ge,P as S,w as h,i as v,g as H,t as V,f as t,Q as J,p as Q,o as oe,h as O,R as he,U as be,S as W,b as ve,F as Z,V as ee,W as F,T as te}from"./ASsb5MaF.js";import{_ as ye,f as xe,c as we,g as $e}from"./DvXxXWho.js";import{u as G}from"./DMS9Uu_l.js";import{_ as Ce}from"./fLV1ysHw.js";import{q as K}from"./BkzAPBky.js";import{_ as ke}from"./DlAUqK2U.js";import"./CexgP4XA.js";import"./iNkV-4lS.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./efmrcxcJ.js";import"./BIq6ZMZJ.js";import"./YIiKSqmb.js";function Te(s,e,o){const[a={},r]=typeof e=="string"?[{},e]:[e,o],i=L(()=>B(s)),p=a.key||ie([r,typeof i.value=="string"?i.value:"",...Ve(a)]);if(!p||typeof p!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+p);const _=p===r?"$f"+p:p;if(!a.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:D,lazy:I,default:y,transform:w,pick:$,watch:b,immediate:x,getCachedData:C,deep:U,dedupe:u,...n}=a,c=ce({...ue,...n,cache:typeof a.cache=="boolean"?void 0:a.cache}),k={server:D,lazy:I,default:y,transform:w,pick:$,immediate:x,getCachedData:C,deep:U,dedupe:u,watch:b===!1?[]:[c,i,...b||[]]};let m;return G(_,()=>{var f;(f=m==null?void 0:m.abort)==null||f.call(m,"Request aborted as another request to the same endpoint was initiated."),m=typeof AbortController<"u"?new AbortController:{};const P=B(a.timeout);let R;return P&&(R=setTimeout(()=>m.abort("Request aborted due to timeout."),P),m.signal.onabort=()=>clearTimeout(R)),(a.$fetch||globalThis.$fetch)(i.value,{signal:m.signal,...c}).finally(()=>{clearTimeout(R)})},k)}function Ve(s){var o;const e=[((o=B(s.method))==null?void 0:o.toUpperCase())||"GET",B(s.baseURL)];for(const a of[s.params||s.query]){const r=B(a);if(!r)continue;const i={};for(const[p,_]of Object.entries(r))i[B(p)]=B(_);e.push(i)}return e}const Ae=A({__name:"Card",props:{class:{}},setup(s){const e=s;return(o,a)=>(d(),g("div",{class:E(l(N)("rounded-lg bg-card text-card-foreground shadow-sm",e.class))},[j(o.$slots,"default")],2))}}),De=A({__name:"CardContent",props:{class:{}},setup(s){const e=s;return(o,a)=>(d(),g("div",{class:E(l(N)("p-6 pt-0",e.class))},[j(o.$slots,"default")],2))}}),Se=A({__name:"CardDescription",props:{class:{}},setup(s){const e=s;return(o,a)=>(d(),g("p",{class:E(l(N)("text-sm text-muted-foreground",e.class))},[j(o.$slots,"default")],2))}}),Ee=A({__name:"CardHeader",props:{class:{}},setup(s){const e=s;return(o,a)=>(d(),g("div",{class:E(l(N)("flex flex-col gap-y-1.5 p-6",e.class))},[j(o.$slots,"default")],2))}}),Oe=A({__name:"CardTitle",props:{class:{}},setup(s){const e=s;return(o,a)=>(d(),g("h3",{class:E(l(N)("text-2xl font-semibold leading-none tracking-tight",e.class))},[j(o.$slots,"default")],2))}});typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ne=s=>typeof s<"u";function Ie(s){return JSON.parse(JSON.stringify(s))}function Ue(s,e,o,a={}){var r,i,p;const{clone:_=!1,passive:D=!1,eventName:I,deep:y=!1,defaultValue:w,shouldEmit:$}=a,b=pe(),x=o||(b==null?void 0:b.emit)||((r=b==null?void 0:b.$emit)==null?void 0:r.bind(b))||((p=(i=b==null?void 0:b.proxy)==null?void 0:i.$emit)==null?void 0:p.bind(b==null?void 0:b.proxy));let C=I;C=C||`update:${e.toString()}`;const U=c=>_?typeof _=="function"?_(c):Ie(c):c,u=()=>Ne(s[e])?U(s[e]):w,n=c=>{$?$(c)&&x(C,c):x(C,c)};if(D){const c=u(),k=M(c);let m=!1;return z(()=>s[e],T=>{m||(m=!0,k.value=U(T),de(()=>m=!1))}),z(k,T=>{!m&&(T!==s[e]||y)&&n(T)},{deep:y}),k}else return L({get(){return u()},set(c){n(c)}})}const Be=A({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(s,{emit:e}){const o=s,r=Ue(o,"modelValue",e,{passive:!0,defaultValue:o.defaultValue});return(i,p)=>me((d(),g("input",{"onUpdate:modelValue":p[0]||(p[0]=_=>se(r)?r.value=_:null),class:E(l(N)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,2)),[[fe,l(r)]])}}),Le=()=>({subscribeUserToNewsletter:async e=>await Te("/api/subscribeUser",{method:"POST",body:{email:e}},"$VLVQMPwieG")}),Me={class:"flex flex-col gap-2"},Re={class:"flex space-x-1.5"},je=A({__name:"Newsletter",setup(s){const{toast:e}=_e(),{t:o}=ge(),a=M(""),{subscribeUserToNewsletter:r}=Le(),i=async()=>{const{error:p}=await r(a.value);a.value="",p.length?e({title:o("newsletter.signupError"),description:o("newsletter.signupErrorDescription")}):e({title:o("newsletter.successTitle"),description:o("newsletter.successDescription")})};return(p,_)=>{const D=Oe,I=Se,y=Ee,w=Be,$=ye,b=De,x=Ae;return d(),S(x,null,{default:h(()=>[v(y,null,{default:h(()=>[v(D,null,{default:h(()=>[H(V(p.$t("newsletter.cardTitle")),1)]),_:1}),v(I,null,{default:h(()=>[H(V(p.$t("newsletter.cardDescription")),1)]),_:1})]),_:1}),v(b,null,{default:h(()=>[t("form",{onSubmit:J(i,["prevent"])},[t("div",Me,[t("div",Re,[v(w,{name:"emailInput",modelValue:l(a),"onUpdate:modelValue":_[0]||(_[0]=C=>se(a)?a.value=C:null),type:"email",placeholder:"Enter your email"},null,8,["modelValue"]),v($,{class:"self-end",type:"submit"},{default:h(()=>[H(V(p.$t("newsletter.submit")),1)]),_:1})])])],32)]),_:1})]),_:1})}}}),Pe=A({__name:"Comments",setup(s){const e=M(),o=Q();z(o,(r,i)=>{a(r.path)}),oe(()=>{a(o.path)});function a(r){const i=document.createElement("script");i.setAttribute("src","https://utteranc.es/client.js"),i.setAttribute("repo","codybontecou/blog-nuxt-content"),i.setAttribute("issue-term",r),i.setAttribute("label","Comments"),i.setAttribute("theme","github-light"),i.setAttribute("crossorigin","anonymous"),i.setAttribute("async","true"),e.value.innerHTML="",e.value.appendChild(i)}return(r,i)=>(d(),g("section",{ref_key:"comments",ref:e},null,512))}}),qe=A({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(s){const e=s,o=L(()=>{const{class:a,...r}=e;return r});return(a,r)=>(d(),S(l(be),he(o.value,{class:l(N)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:h(()=>[e.label?(d(),g("span",{key:0,class:E(l(N)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},V(e.label),3)):O("",!0)]),_:1},16,["class"]))}});function Fe(s){for(let e=s.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[s[e],s[o]]=[s[o],s[e]]}return s}const ze={class:"relative"},Ge={key:0,class:"hidden lg:block fixed right-8 top-32 w-64 max-h-[calc(100vh-200px)] overflow-y-auto"},He={class:"toc"},Je={class:"space-y-3"},We=["href","onClick"],Ke={key:0,class:"lg:hidden fixed bottom-0 inset-x-0 z-40 bg-white rounded-t-xl shadow-lg max-h-[75vh] overflow-y-auto"},Qe={class:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between"},Xe={class:"p-4"},Ye={class:"space-y-4"},Ze=["href","onClick"],et={class:"flex flex-col justify-center max-w-3xl mx-auto"},tt={class:"prose lg:prose-lg"},st={class:"text-4xl font-normal mb-4"},ot={class:"text-gray-600 text-lg mb-10"},nt={class:"mb-6"},at=A({__name:"BlogPost",async setup(s){var U;let e,o;const{path:a}=Q(),{data:r}=([e,o]=W(()=>G(`post-${a}`,()=>K(a).findOne())),e=await e,o(),e),i=(U=r.value)==null?void 0:U.topics,{data:p}=([e,o]=W(()=>G("allArticles",()=>K("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),e=await e,o(),e),_=L(()=>p.value.filter(u=>{if(u.title===r.value.title)return!1;const n=u.topics||[],c=i||[];return n.length>0&&c.length>0&&n.some(k=>c.includes(k))}).slice(0,5)),D=L(()=>{if(_.value.length===5)return _.value;const n=5-_.value.length,c=p.value.filter(m=>!_.value.map(T=>T.title).includes(m.title)),k=Fe(c).slice(0,n).sort((m,T)=>new Date(T.date)-new Date(m.date));return _.value.concat(k)}),I=L(()=>{var u;return $e((u=r.value)==null?void 0:u.body)}),y=M(!1),w=M(""),$=M(null),b=M([]),x=L(()=>{var u,n,c;return(c=(n=(u=r.value)==null?void 0:u.body)==null?void 0:n.toc)!=null&&c.links?r.value.body.toc.links:[]});oe(()=>{b.value=x.value.map(u=>u.id),$.value=new IntersectionObserver(u=>{u.forEach(n=>{n.isIntersecting&&(w.value=n.target.id)})},{rootMargin:"-10% 0% -85% 0%",threshold:0}),b.value.forEach(u=>{var c;const n=document.getElementById(u);n&&((c=$.value)==null||c.observe(n))})}),ve(()=>{$.value&&$.value.disconnect()});const C=u=>{const n=document.getElementById(u);n&&(n.scrollIntoView({behavior:"smooth"}),y.value=!1)};return z(y,u=>{u?document.body.style.overflow="hidden":document.body.style.overflow=""}),(u,n)=>{const c=ae,k=le,m=re,T=je,P=Pe,R=qe,X=Ce;return d(),g("div",ze,[l(x).length?(d(),g("aside",Ge,[(d(),S(F,null,{default:h(()=>[t("nav",He,[n[3]||(n[3]=t("h2",{class:"font-medium mb-4"},"On this page",-1)),t("ul",Je,[(d(!0),g(Z,null,ee(l(x),f=>(d(),g("li",{key:f.id,class:"text-sm"},[t("a",{href:`#${f.id}`,onClick:J(q=>C(f.id),["prevent"]),class:E({"text-primary hover:text-primary-dark transition-colors duration-200":!0,"text-indigo-600 font-medium":l(w)===f.id,"text-gray-600 hover:text-gray-900":l(w)!==f.id})},V(f.text),11,We)]))),128))])])]),fallback:h(()=>n[4]||(n[4]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"space-y-3"},[t("div",{class:"h-4 bg-gray-200 rounded w-5/6"}),t("div",{class:"h-4 bg-gray-200 rounded w-4/6"}),t("div",{class:"h-4 bg-gray-200 rounded w-3/6"})])],-1)])),_:1}))])):O("",!0),l(x).length?(d(),g("button",{key:1,onClick:n[0]||(n[0]=f=>y.value=!0),class:"lg:hidden flex items-center justify-center fixed right-4 bottom-4 z-20 rounded-full p-3 bg-white shadow transition-colors duration-200","aria-label":"Open table of contents"},[v(c,{name:"material-symbols:menu-book-outline",class:"w-6 h-6"})])):O("",!0),l(x).length?(d(),S(te,{key:2,"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[l(y)?(d(),g("div",{key:0,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:n[1]||(n[1]=f=>y.value=!1)})):O("",!0)]),_:1})):O("",!0),l(x).length?(d(),S(te,{key:3,"enter-active-class":"transition-transform duration-300 ease-out","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:h(()=>[l(y)?(d(),g("div",Ke,[t("div",Qe,[n[5]||(n[5]=t("h2",{class:"font-medium"},"On this page",-1)),t("button",{onClick:n[2]||(n[2]=f=>y.value=!1),class:"p-1 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Close table of contents"},[v(c,{name:"material-symbols:close",class:"w-6 h-6"})])]),t("nav",Xe,[(d(),S(F,null,{default:h(()=>[t("ul",Ye,[(d(!0),g(Z,null,ee(l(x),f=>(d(),g("li",{key:f.id},[t("a",{href:`#${f.id}`,onClick:J(q=>C(f.id),["prevent"]),class:E(["block py-2 px-3 rounded-lg transition-colors duration-200",{"bg-gray-100 font-semibold":l(w)===f.id,"hover:bg-gray-100":l(w)!==f.id}])},V(f.text),11,Ze)]))),128))])]),fallback:h(()=>n[6]||(n[6]=[t("div",{class:"animate-pulse space-y-4"},[t("div",{class:"h-10 bg-gray-200 rounded-lg"}),t("div",{class:"h-10 bg-gray-200 rounded-lg"}),t("div",{class:"h-10 bg-gray-200 rounded-lg"})],-1)])),_:1}))])])):O("",!0)]),_:1})):O("",!0),(d(),S(F,null,{default:h(()=>[t("main",et,[v(m,null,{default:h(({doc:f})=>{var q,Y;return[t("article",tt,[t("h1",st,V((q=l(r))==null?void 0:q.title),1),t("div",ot,V(l(xe)((Y=l(r))==null?void 0:Y.date))+" · "+V(l(we)(l(I)))+" "+V(u.$t("latest.minuteRead")),1),v(k,{value:l(r)},null,8,["value"])])]}),_:1}),v(T,{class:"mt-10 lg:w-2/3"}),v(P,{class:"mt-10"}),v(R,{class:"my-20"}),t("div",null,[t("h2",nt,V(u.$t("slug.alsoEnjoy")),1),l(D)&&l(D).length?(d(),S(X,{key:0,articles:l(D)},null,8,["articles"])):O("",!0)])])]),fallback:h(()=>n[7]||(n[7]=[t("div",{class:"animate-pulse max-w-3xl mx-auto"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}}),lt=ke(at,[["__scopeId","data-v-7b61459a"]]),rt={class:"max-w-3xl mx-0 md:mx-auto py-8 px-4"},kt=A({__name:"[...slug]",async setup(s){let e,o;const{path:a}=Q();return[e,o]=W(()=>G(`post-${a}`,()=>K(a).findOne())),e=await e,o(),(r,i)=>{const p=ne;return d(),g("div",rt,[v(p),(d(),S(F,null,{default:h(()=>[v(l(lt))]),fallback:h(()=>i[0]||(i[0]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}});export{kt as default};
