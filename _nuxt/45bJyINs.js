import{f as b,c as B,_ as C,g as D}from"./DsNISamx.js";import{_ as L}from"./4EcHUS3i.js";import{_ as N}from"./Bbx8sQS0.js";import{d as P,K as T,O as M,D as V,e as f,f as t,t as o,i as c,w as d,z as n,g as _,h as v,F,P as R,c as u,L as q}from"./Cc-hbk2f.js";import{u as A}from"./nonUcVbc.js";import{q as S}from"./CaToHb1-.js";import"./Ca7ZDLHP.js";const W=(e,s,a)=>`${b(e)} Â· ${s} ${a("latest.minuteRead")}`,z=e=>{if(!(e!=null&&e.children))return"";const s=e.children.find(g=>{var i,m;return g.tag==="p"&&((m=(i=g.children)==null?void 0:i[0])==null?void 0:m.value)});if(!s)return"";const a=s.children[0].value;return a.length<=120?a:a.slice(0,120).trim()+"..."},E=e=>!e||!e.length?null:e.find(s=>!s.ignore)||null,I=e=>{const s=e==null?void 0:e.flatMap(a=>a.topics||[]).filter(Boolean).map(a=>a.toLowerCase());return[...new Set(s)].sort()},K={class:"h-screen overflow-hidden"},O={class:"h-full mx-auto max-w-7xl pt-16 px-4 sm:px-6 lg:px-8"},j={class:"lg:pt-0 lg:grid lg:grid-cols-2 lg:gap-x-12"},G={class:"sticky top-0 h-screen overflow-y-auto max-w-lg mx-auto mb-16 lg:mb-0 lg:mx-0"},H={class:"mb-4"},J={class:"mb-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl"},Q={class:"text-lg italic leading-8 text-gray-600"},U={class:"mb-8 flex items-center gap-x-2.5 w-full"},X={key:0,class:"mb-16 w-full"},Y={class:"text-gray-600 mb-6"},Z={class:"text-xl font-medium mb-2"},tt={class:"text-gray-600 mb-4"},et={class:"text-gray-600"},st={key:1,class:"mb-16 w-full"},at={class:"text-lg text-gray-600"},ot={class:"mt-6 flex flex-wrap gap-2"},nt={class:"h-screen overflow-y-auto max-w-lg mx-auto lg:mt-0"},lt={class:"mb-6 text-lg text-gray-600"},gt=P({__name:"index",async setup(e){let s,a;const{t:g}=T(),{data:i}=([s,a]=M(()=>A("articles",()=>S("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),s=await s,a(),s),m=I(i.value),l=E(i.value),w=V(()=>D(l==null?void 0:l.body)),$=W(l.date,B(w.value),g);return(r,x)=>{const y=C,h=L,k=N;return u(),f("div",K,[t("div",O,[t("div",j,[t("div",G,[t("div",H,[t("h1",J,o(r.$t("landing.hero")),1),t("p",Q,o(r.$t("landing.description")),1)]),t("div",U,[c(h,{to:"/"},{default:d(()=>[c(y,null,{default:d(()=>[_(o(r.$t("landing.cta")),1)]),_:1})]),_:1}),t("a",{href:"#key-features",onClick:x[0]||(x[0]=()=>{})},[c(y,{variant:"outline"},{default:d(()=>[_(o(r.$t("landing.learnMore")),1)]),_:1})])]),n(l)?(u(),f("section",X,[t("h2",Y,o(r.$t("latest.latest")),1),t("article",null,[t("h3",Z,[c(h,{to:n(l)._path,class:"hover:opacity-75"},{default:d(()=>[_(o(n(l).title),1)]),_:1},8,["to"])]),t("div",tt,o(n($)),1),t("p",et,[_(o(n(z)(n(l).body))+" ",1),c(h,{to:n(l)._path,class:"text-gray-900 hover:opacity-75"},{default:d(()=>[_(o(r.$t("latest.keepReading")),1)]),_:1},8,["to"])])])])):v("",!0),n(m).length?(u(),f("section",st,[t("h2",at,o(r.$t("topics.topics")),1),t("div",ot,[(u(!0),f(F,null,R(n(m),p=>(u(),q(h,{key:p,to:`/topics/${p}`,class:"underline hover:opacity-75 break-keep whitespace-nowrap"},{default:d(()=>[_(o(p),1)]),_:2},1032,["to"]))),128))])])):v("",!0)]),t("div",nt,[t("h2",lt,o(r.$t("writing.writing")),1),c(k,{articles:n(i)},null,8,["articles"])])])])])}}});export{gt as default};
