import{_ as Z}from"./DZxiFPDk.js";import tt from"./DRbmopz5.js";import et from"./DC_YBzal.js";import st from"./DUqh5-yQ.js";import{d as S,r as A,p as J,y as K,o as Q,c as n,e as u,z as B,A as h,w as m,n as D,B as o,C as N,t as f,h as v,D as ot,U as at,E as R,b as nt,f as t,F as U,G as V,H as q,S as M,i as _,T as F}from"./q01czkw-.js";import{_ as lt}from"./DHY4ESPk.js";import{f as rt,c as it,g as ct}from"./CIstYl3W.js";import{u as H}from"./D7Zkda14.js";import{q as G}from"./BlpZu59M.js";import{_ as dt}from"./DlAUqK2U.js";import"./C3Eb8pmo.js";import"./CysmRkon.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./GWYTO_dx.js";import"./IdhMEUIO.js";import"./CPEwTSSL.js";const ut=S({__name:"Comments",setup(p){const s=A(),i=J();K(i,(r,d)=>{g(r.path)}),Q(()=>{g(i.path)});function g(r){const d=document.createElement("script");d.setAttribute("src","https://utteranc.es/client.js"),d.setAttribute("repo","codybontecou/blog-nuxt-content"),d.setAttribute("issue-term",r),d.setAttribute("label","Comments"),d.setAttribute("theme","github-light"),d.setAttribute("crossorigin","anonymous"),d.setAttribute("async","true"),s.value.innerHTML="",s.value.appendChild(d)}return(r,d)=>(n(),u("section",{ref_key:"comments",ref:s},null,512))}}),mt=S({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(p){const s=p,i=B(()=>{const{class:g,...r}=s;return r});return(g,r)=>(n(),h(o(at),ot(i.value,{class:o(N)("shrink-0 bg-border relative",s.orientation==="vertical"?"w-px h-full":"h-px w-full",s.class)}),{default:m(()=>[s.label?(n(),u("span",{key:0,class:D(o(N)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",s.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},f(s.label),3)):v("",!0)]),_:1},16,["class"]))}});function pt(p){for(let s=p.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[p[s],p[i]]=[p[i],p[s]]}return p}const gt={class:"relative"},ft={key:0,class:"hidden lg:block fixed right-8 top-32 w-64 max-h-[calc(100vh-200px)] overflow-y-auto"},vt={class:"toc"},ht={class:"space-y-3"},_t=["href","onClick"],yt={key:0,class:"lg:hidden fixed bottom-0 inset-x-0 z-40 bg-white rounded-t-xl shadow-lg max-h-[75vh] overflow-y-auto"},bt={class:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between"},xt={class:"p-4"},wt={class:"space-y-4"},kt=["href","onClick"],Ct={class:"flex flex-col justify-center max-w-3xl mx-auto"},$t={class:"prose lg:prose-lg"},At={class:"text-4xl font-normal mb-4"},Bt={class:"text-gray-600 text-lg mb-10"},Et={class:"mb-6"},Tt=S({__name:"BlogPost",async setup(p){var P;let s,i;const{path:g}=J(),{data:r}=([s,i]=R(()=>H(`post-${g}`,()=>G(g).findOne())),s=await s,i(),s),d=(P=r.value)==null?void 0:P.topics,{data:I}=([s,i]=R(()=>H("allArticles",()=>G("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),s=await s,i(),s),x=B(()=>I.value.filter(a=>{if(a.title===r.value.title)return!1;const e=a.topics||[],c=d||[];return e.length>0&&c.length>0&&e.some(k=>c.includes(k))}).slice(0,5)),j=B(()=>{if(x.value.length===5)return x.value;const e=5-x.value.length,c=I.value.filter(C=>!x.value.map($=>$.title).includes(C.title)),k=pt(c).slice(0,e).sort((C,$)=>new Date($.date)-new Date(C.date));return x.value.concat(k)}),W=B(()=>{var a;return ct((a=r.value)==null?void 0:a.body)}),y=A(!1),w=A(""),E=A(null),L=A([]),b=B(()=>{var a,e,c;return(c=(e=(a=r.value)==null?void 0:a.body)==null?void 0:e.toc)!=null&&c.links?r.value.body.toc.links:[]});Q(()=>{L.value=b.value.map(a=>a.id),E.value=new IntersectionObserver(a=>{a.forEach(e=>{e.isIntersecting&&(w.value=e.target.id)})},{rootMargin:"-10% 0% -85% 0%",threshold:0}),L.value.forEach(a=>{var c;const e=document.getElementById(a);e&&((c=E.value)==null||c.observe(e))})}),nt(()=>{E.value&&E.value.disconnect()});const O=a=>{const e=document.getElementById(a);e&&(e.scrollIntoView({behavior:"smooth"}),y.value=!1)};return K(y,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""}),(a,e)=>{const c=tt,k=et,C=st,$=ut,X=mt,Y=lt;return n(),u("div",gt,[o(b).length?(n(),u("aside",ft,[(n(),h(M,null,{default:m(()=>[t("nav",vt,[e[3]||(e[3]=t("h2",{class:"font-medium mb-4"},"On this page",-1)),t("ul",ht,[(n(!0),u(U,null,V(o(b),l=>(n(),u("li",{key:l.id,class:"text-sm"},[t("a",{href:`#${l.id}`,onClick:q(T=>O(l.id),["prevent"]),class:D({"text-primary hover:text-primary-dark transition-colors duration-200":!0,"text-indigo-600 font-medium":o(w)===l.id,"text-gray-600 hover:text-gray-900":o(w)!==l.id})},f(l.text),11,_t)]))),128))])])]),fallback:m(()=>e[4]||(e[4]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"space-y-3"},[t("div",{class:"h-4 bg-gray-200 rounded w-5/6"}),t("div",{class:"h-4 bg-gray-200 rounded w-4/6"}),t("div",{class:"h-4 bg-gray-200 rounded w-3/6"})])],-1)])),_:1}))])):v("",!0),o(b).length?(n(),u("button",{key:1,onClick:e[0]||(e[0]=l=>y.value=!0),class:"lg:hidden flex items-center justify-center fixed right-4 bottom-4 z-20 rounded-full p-3 bg-white shadow transition-colors duration-200","aria-label":"Open table of contents"},[_(c,{name:"material-symbols:menu-book-outline",class:"w-6 h-6"})])):v("",!0),o(b).length?(n(),h(F,{key:2,"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:m(()=>[o(y)?(n(),u("div",{key:0,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:e[1]||(e[1]=l=>y.value=!1)})):v("",!0)]),_:1})):v("",!0),o(b).length?(n(),h(F,{key:3,"enter-active-class":"transition-transform duration-300 ease-out","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:m(()=>[o(y)?(n(),u("div",yt,[t("div",bt,[e[5]||(e[5]=t("h2",{class:"font-medium"},"On this page",-1)),t("button",{onClick:e[2]||(e[2]=l=>y.value=!1),class:"p-1 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Close table of contents"},[_(c,{name:"material-symbols:close",class:"w-6 h-6"})])]),t("nav",xt,[(n(),h(M,null,{default:m(()=>[t("ul",wt,[(n(!0),u(U,null,V(o(b),l=>(n(),u("li",{key:l.id},[t("a",{href:`#${l.id}`,onClick:q(T=>O(l.id),["prevent"]),class:D(["block py-2 px-3 rounded-lg transition-colors duration-200",{"bg-gray-100 font-semibold":o(w)===l.id,"hover:bg-gray-100":o(w)!==l.id}])},f(l.text),11,kt)]))),128))])]),fallback:m(()=>e[6]||(e[6]=[t("div",{class:"animate-pulse space-y-4"},[t("div",{class:"h-10 bg-gray-200 rounded-lg"}),t("div",{class:"h-10 bg-gray-200 rounded-lg"}),t("div",{class:"h-10 bg-gray-200 rounded-lg"})],-1)])),_:1}))])])):v("",!0)]),_:1})):v("",!0),(n(),h(M,null,{default:m(()=>[t("main",Ct,[_(C,null,{default:m(({doc:l})=>{var T,z;return[t("article",$t,[t("h1",At,f((T=o(r))==null?void 0:T.title),1),t("div",Bt,f(o(rt)((z=o(r))==null?void 0:z.date))+" Â· "+f(o(it)(o(W)))+" "+f(a.$t("latest.minuteRead")),1),_(k,{value:o(r)},null,8,["value"])])]}),_:1}),_($,{class:"mt-10"}),_(X,{class:"my-20"}),t("div",null,[t("h2",Et,f(a.$t("slug.alsoEnjoy")),1),o(j)&&o(j).length?(n(),h(Y,{key:0,articles:o(j)},null,8,["articles"])):v("",!0)])])]),fallback:m(()=>e[7]||(e[7]=[t("div",{class:"animate-pulse max-w-3xl mx-auto"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}}),Mt=dt(Tt,[["__scopeId","data-v-0138045b"]]),St={class:"max-w-3xl mx-0 md:mx-auto py-8 px-4"},Qt=S({__name:"[...slug]",setup(p){return(s,i)=>{const g=Z;return n(),u("div",St,[_(g),(n(),h(M,null,{default:m(()=>[_(o(Mt))]),fallback:m(()=>i[0]||(i[0]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}});export{Qt as default};
