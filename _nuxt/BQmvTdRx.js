import{_ as ce}from"./Dv67SUu2.js";import ue from"./D87tuCeg.js";import{_ as de}from"./BmxvKWnM.js";import pe from"./DdwszVyu.js";import me from"./9Mwp8nPv.js";import{y as M,z as L,A as fe,B as _e,C as ge,d as A,c,e as f,D as q,n as E,E as l,G as I,r as R,H,I as he,J as be,K as ve,L as ye,M as le,N as xe,O as we,P as D,w as _,i as v,g as P,t as C,f as t,Q,p as Z,o as re,h as O,R as $e,U as Ce,S as X,b as ke,F as W,V as K,W as G,T as ae}from"./dMildX0s.js";import{_ as Te,f as Ve,c as Ae,g as De}from"./A24UBx92.js";import{u as J}from"./DmC3QPDY.js";import{_ as Se}from"./k9-EZrpH.js";import{q as Y}from"./BzgrynaP.js";import{_ as Ee}from"./DlAUqK2U.js";import"./BVT1w1Nz.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./DBRuy3wi.js";import"./BuYvSuTA.js";import"./D3uf24C8.js";function Ne(s,e,o){const[a={},r]=typeof e=="string"?[{},e]:[e,o],i=M(()=>L(s)),p=a.key||fe([r,typeof i.value=="string"?i.value:"",...Oe(a)]);if(!p||typeof p!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+p);const g=p===r?"$f"+p:p;if(!a.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:S,lazy:U,default:y,transform:k,pick:T,watch:h,immediate:x,getCachedData:V,deep:B,dedupe:u,...n}=a,d=_e({...ge,...n,cache:typeof a.cache=="boolean"?void 0:a.cache}),$={server:S,lazy:U,default:y,transform:k,pick:T,immediate:x,getCachedData:V,deep:B,dedupe:u,watch:h===!1?[]:[d,i,...h||[]]};let m;return J(g,()=>{var F;(F=m==null?void 0:m.abort)==null||F.call(m,"Request aborted as another request to the same endpoint was initiated."),m=typeof AbortController<"u"?new AbortController:{};const N=L(a.timeout);let j;return N&&(j=setTimeout(()=>m.abort("Request aborted due to timeout."),N),m.signal.onabort=()=>clearTimeout(j)),(a.$fetch||globalThis.$fetch)(i.value,{signal:m.signal,...d}).finally(()=>{clearTimeout(j)})},$)}function Oe(s){var o;const e=[((o=L(s.method))==null?void 0:o.toUpperCase())||"GET",L(s.baseURL)];for(const a of[s.params||s.query]){const r=L(a);if(!r)continue;const i={};for(const[p,g]of Object.entries(r))i[L(p)]=L(g);e.push(i)}return e}const Ie=A({__name:"Card",props:{class:{}},setup(s){const e=s;return(o,a)=>(c(),f("div",{class:E(l(I)("rounded-lg bg-card text-card-foreground shadow-sm",e.class))},[q(o.$slots,"default")],2))}}),Ue=A({__name:"CardContent",props:{class:{}},setup(s){const e=s;return(o,a)=>(c(),f("div",{class:E(l(I)("p-6 pt-0",e.class))},[q(o.$slots,"default")],2))}}),Be=A({__name:"CardDescription",props:{class:{}},setup(s){const e=s;return(o,a)=>(c(),f("p",{class:E(l(I)("text-sm text-muted-foreground",e.class))},[q(o.$slots,"default")],2))}}),Le=A({__name:"CardHeader",props:{class:{}},setup(s){const e=s;return(o,a)=>(c(),f("div",{class:E(l(I)("flex flex-col gap-y-1.5 p-6",e.class))},[q(o.$slots,"default")],2))}}),Me=A({__name:"CardTitle",props:{class:{}},setup(s){const e=s;return(o,a)=>(c(),f("h3",{class:E(l(I)("text-2xl font-semibold leading-none tracking-tight",e.class))},[q(o.$slots,"default")],2))}});typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Re=s=>typeof s<"u";function je(s){return JSON.parse(JSON.stringify(s))}function Pe(s,e,o,a={}){var r,i,p;const{clone:g=!1,passive:S=!1,eventName:U,deep:y=!1,defaultValue:k,shouldEmit:T}=a,h=be(),x=o||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((p=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:p.bind(h==null?void 0:h.proxy));let V=U;V=V||`update:${e.toString()}`;const B=d=>g?typeof g=="function"?g(d):je(d):d,u=()=>Re(s[e])?B(s[e]):k,n=d=>{T?T(d)&&x(V,d):x(V,d)};if(S){const d=u(),$=R(d);let m=!1;return H(()=>s[e],w=>{m||(m=!0,$.value=B(w),he(()=>m=!1))}),H($,w=>{!m&&(w!==s[e]||y)&&n(w)},{deep:y}),$}else return M({get(){return u()},set(d){n(d)}})}const qe=A({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(s,{emit:e}){const o=s,r=Pe(o,"modelValue",e,{passive:!0,defaultValue:o.defaultValue});return(i,p)=>ve((c(),f("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>le(r)?r.value=g:null),class:E(l(I)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,2)),[[ye,l(r)]])}}),Fe=()=>({subscribeUserToNewsletter:async e=>await Ne("/api/subscribeUser",{method:"POST",body:{email:e}},"$VLVQMPwieG")}),ze={class:"flex flex-col gap-2"},Ge={class:"flex space-x-1.5"},He=A({__name:"Newsletter",setup(s){const{toast:e}=xe(),{t:o}=we(),a=R(""),{subscribeUserToNewsletter:r}=Fe(),i=async()=>{const{error:p}=await r(a.value);a.value="",p.length?e({title:o("newsletter.signupError"),description:o("newsletter.signupErrorDescription")}):e({title:o("newsletter.successTitle"),description:o("newsletter.successDescription")})};return(p,g)=>{const S=Me,U=Be,y=Le,k=qe,T=Te,h=Ue,x=Ie;return c(),D(x,null,{default:_(()=>[v(y,null,{default:_(()=>[v(S,null,{default:_(()=>[P(C(p.$t("newsletter.cardTitle")),1)]),_:1}),v(U,null,{default:_(()=>[P(C(p.$t("newsletter.cardDescription")),1)]),_:1})]),_:1}),v(h,null,{default:_(()=>[t("form",{onSubmit:Q(i,["prevent"])},[t("div",ze,[t("div",Ge,[v(k,{name:"emailInput",modelValue:l(a),"onUpdate:modelValue":g[0]||(g[0]=V=>le(a)?a.value=V:null),type:"email",placeholder:"Enter your email"},null,8,["modelValue"]),v(T,{class:"self-end",type:"submit"},{default:_(()=>[P(C(p.$t("newsletter.submit")),1)]),_:1})])])],32)]),_:1})]),_:1})}}}),Je=A({__name:"Comments",setup(s){const e=R(),o=Z();H(o,(r,i)=>{a(r.path)}),re(()=>{a(o.path)});function a(r){const i=document.createElement("script");i.setAttribute("src","https://utteranc.es/client.js"),i.setAttribute("repo","codybontecou/blog-nuxt-content"),i.setAttribute("issue-term",r),i.setAttribute("label","Comments"),i.setAttribute("theme","github-light"),i.setAttribute("crossorigin","anonymous"),i.setAttribute("async","true"),e.value.innerHTML="",e.value.appendChild(i)}return(r,i)=>(c(),f("section",{ref_key:"comments",ref:e},null,512))}}),We=A({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(s){const e=s,o=M(()=>{const{class:a,...r}=e;return r});return(a,r)=>(c(),D(l(Ce),$e(o.value,{class:l(I)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:_(()=>[e.label?(c(),f("span",{key:0,class:E(l(I)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},C(e.label),3)):O("",!0)]),_:1},16,["class"]))}});function Ke(s){for(let e=s.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[s[e],s[o]]=[s[o],s[e]]}return s}const Qe={class:"relative"},Xe={key:0,class:"hidden lg:block fixed right-8 top-32 w-64 max-h-[calc(100vh-200px)] overflow-y-auto"},Ye={class:"toc"},Ze={class:"space-y-3"},et=["href","onClick"],tt={key:0,class:"lg:hidden fixed bottom-0 inset-x-0 z-40 bg-white rounded-t-xl shadow-lg max-h-[75vh] overflow-y-auto"},st={class:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between"},ot={class:"p-4"},nt={class:"space-y-4"},at=["href","onClick"],lt={class:"flex flex-col justify-center max-w-3xl mx-auto"},rt={class:"prose lg:prose-lg"},it={class:"text-4xl font-normal mb-4"},ct={class:"text-gray-600 text-lg flex mb-10"},ut={class:"ml-2 flex list-none not-prose gap-x-2"},dt={class:"mb-6"},pt=A({__name:"BlogPost",async setup(s){var B;let e,o;const{path:a}=Z(),{data:r}=([e,o]=X(()=>J(`post-${a}`,()=>Y(a).findOne())),e=await e,o(),e),i=(B=r.value)==null?void 0:B.topics,{data:p}=([e,o]=X(()=>J("allArticles",()=>Y("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),e=await e,o(),e),g=M(()=>{var u;return(u=p.value)==null?void 0:u.filter(n=>{var m;if(n.title===((m=r.value)==null?void 0:m.title))return!1;const d=n.topics||[],$=i||[];return d.length>0&&$.length>0&&d.some(w=>$.includes(w))}).slice(0,5)}),S=M(()=>{var m;if(g.value.length===5)return g.value;const n=5-g.value.length,d=(m=p.value)==null?void 0:m.filter(w=>!g.value.map(N=>N.title).includes(w.title)),$=Ke(d).slice(0,n).sort((w,N)=>new Date(N.date)-new Date(w.date));return g.value.concat($)}),U=M(()=>{var u;return De((u=r.value)==null?void 0:u.body)}),y=R(!1),k=R(""),T=R(null),h=R([]),x=M(()=>{var u,n,d;return(d=(n=(u=r.value)==null?void 0:u.body)==null?void 0:n.toc)!=null&&d.links?r.value.body.toc.links:[]});re(()=>{h.value=x.value.map(u=>u.id),T.value=new IntersectionObserver(u=>{u.forEach(n=>{n.isIntersecting&&(k.value=n.target.id)})},{rootMargin:"-10% 0% -85% 0%",threshold:0}),h.value.forEach(u=>{var d;const n=document.getElementById(u);n&&((d=T.value)==null||d.observe(n))})}),ke(()=>{T.value&&T.value.disconnect()});const V=u=>{const n=document.getElementById(u);n&&(n.scrollIntoView({behavior:"smooth"}),y.value=!1)};return H(y,u=>{u?document.body.style.overflow="hidden":document.body.style.overflow=""}),(u,n)=>{const d=ue,$=de,m=pe,w=me,N=He,j=Je,ee=We,F=Se;return c(),f("div",Qe,[l(x).length?(c(),f("aside",Xe,[(c(),D(G,null,{default:_(()=>[t("nav",Ye,[n[3]||(n[3]=t("h2",{class:"font-medium mb-4"},"On this page",-1)),t("ul",Ze,[(c(!0),f(W,null,K(l(x),b=>(c(),f("li",{key:b.id,class:"text-sm"},[t("a",{href:`#${b.id}`,onClick:Q(z=>V(b.id),["prevent"]),class:E({"text-primary hover:text-primary-dark transition-colors duration-200":!0,"text-indigo-600 font-medium":l(k)===b.id,"text-gray-600 hover:text-gray-900":l(k)!==b.id})},C(b.text),11,et)]))),128))])])]),fallback:_(()=>n[4]||(n[4]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"space-y-3"},[t("div",{class:"h-4 bg-gray-200 rounded w-5/6"}),t("div",{class:"h-4 bg-gray-200 rounded w-4/6"}),t("div",{class:"h-4 bg-gray-200 rounded w-3/6"})])],-1)])),_:1}))])):O("",!0),l(x).length?(c(),f("button",{key:1,onClick:n[0]||(n[0]=b=>y.value=!0),class:"lg:hidden flex items-center justify-center fixed right-4 bottom-4 z-20 rounded-full p-3 bg-white shadow transition-colors duration-200","aria-label":"Open table of contents"},[v(d,{name:"material-symbols:menu-book-outline",class:"w-6 h-6"})])):O("",!0),l(x).length?(c(),D(ae,{key:2,"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[l(y)?(c(),f("div",{key:0,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:n[1]||(n[1]=b=>y.value=!1)})):O("",!0)]),_:1})):O("",!0),l(x).length?(c(),D(ae,{key:3,"enter-active-class":"transition-transform duration-300 ease-out","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:_(()=>[l(y)?(c(),f("div",tt,[t("div",st,[n[5]||(n[5]=t("h2",{class:"font-medium"},"On this page",-1)),t("button",{onClick:n[2]||(n[2]=b=>y.value=!1),class:"p-1 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Close table of contents"},[v(d,{name:"material-symbols:close",class:"w-6 h-6"})])]),t("nav",ot,[(c(),D(G,null,{default:_(()=>[t("ul",nt,[(c(!0),f(W,null,K(l(x),b=>(c(),f("li",{key:b.id},[t("a",{href:`#${b.id}`,onClick:Q(z=>V(b.id),["prevent"]),class:E(["block py-2 px-3 rounded-lg transition-colors duration-200",{"bg-gray-100 font-semibold":l(k)===b.id,"hover:bg-gray-100":l(k)!==b.id}])},C(b.text),11,at)]))),128))])]),fallback:_(()=>n[6]||(n[6]=[t("div",{class:"animate-pulse space-y-4"},[t("div",{class:"h-10 bg-gray-200 rounded-lg"}),t("div",{class:"h-10 bg-gray-200 rounded-lg"}),t("div",{class:"h-10 bg-gray-200 rounded-lg"})],-1)])),_:1}))])])):O("",!0)]),_:1})):O("",!0),(c(),D(G,null,{default:_(()=>[t("main",lt,[v(w,null,{default:_(({doc:b})=>{var z,te,se;return[t("article",rt,[t("h1",it,C((z=l(r))==null?void 0:z.title),1),t("div",ct,[P(C(l(Ve)((te=l(r))==null?void 0:te.date))+" · "+C(l(Ae)(l(U)))+" "+C(u.$t("latest.minuteRead"))+" · ",1),(c(!0),f(W,null,K((se=l(r))==null?void 0:se.topics,(oe,ie)=>(c(),D($,{class:"ml-1 text-gray-600",to:"topics/"+oe},{default:_(()=>{var ne;return[P(C(`${oe}${ie!==((ne=l(r))==null?void 0:ne.topics.length)-1?",":""}`),1)]}),_:2},1032,["to"]))),256)),t("ul",ut,[(c(),f("li",{class:"not-prose underline hover:opacity-75 break-keep whitespace-nowrap",key:u.topic}))])]),v(m,{value:l(r)},null,8,["value"])])]}),_:1}),v(N,{class:"mt-10 lg:w-2/3"}),v(j,{class:"mt-10"}),v(ee,{class:"my-20"}),t("div",null,[t("h2",dt,C(u.$t("slug.alsoEnjoy")),1),l(S)&&l(S).length?(c(),D(F,{key:0,articles:l(S)},null,8,["articles"])):O("",!0)])])]),fallback:_(()=>n[7]||(n[7]=[t("div",{class:"animate-pulse max-w-3xl mx-auto"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}}),mt=Ee(pt,[["__scopeId","data-v-fcddb7e2"]]),ft={class:"max-w-3xl mx-0 md:mx-auto py-8 px-4"},Nt=A({__name:"[...slug]",async setup(s){let e,o;const{path:a}=Z();return[e,o]=X(()=>J(`post-${a}`,()=>Y(a).findOne())),e=await e,o(),(r,i)=>{const p=ce;return c(),f("div",ft,[v(p),(c(),D(G,null,{default:_(()=>[v(l(mt))]),fallback:_(()=>i[0]||(i[0]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}});export{Nt as default};
