import{_ as j}from"./Dw0XcD6x.js";import L from"./D4y5M7tF.js";import{c as A,U as N,f as P}from"./Q1RPZim5.js";import{d as x,z as y,c as u,A as f,w as g,e as B,n as q,B as a,t as d,h as D,C as R,q as V,D as $,f as t,i as h,S}from"./COS1Ga8k.js";import{_ as z}from"./WeR9Sip4.js";import{u as k}from"./Bbp_W7gr.js";import{q as C}from"./Ds23QVb_.js";import"./CZzfWFh1.js";import"./C7tOtXHo.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./BIm06NTG.js";const E=x({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(n){const e=n,s=y(()=>{const{class:r,...o}=e;return o});return(r,o)=>(u(),f(a(N),R(s.value,{class:a(A)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:g(()=>[e.label?(u(),B("span",{key:0,class:q(a(A)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},d(e.label),3)):D("",!0)]),_:1},16,["class"]))}});function M(n){for(let e=n.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[n[e],n[s]]=[n[s],n[e]]}return n}const U={class:"flex flex-col justify-center"},O={class:"prose"},F={class:"text-4xl font-normal mb-4"},G={class:"text-gray-600 text-lg mb-10"},H={class:"mb-6"},I=x({__name:"BlogPost",async setup(n){let e,s;const{path:r}=V(),{data:o}=([e,s]=$(()=>k(`post-${r}`,()=>C(r).findOne())),e=await e,s(),e),T=o.value.topics,{data:w}=([e,s]=$(()=>k("allArticles",()=>C("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),e=await e,s(),e),p=y(()=>w.value.filter(c=>{if(c.title===o.value.title)return!1;const l=c.topics||[],i=T||[];return l.length>0&&i.length>0&&l.some(m=>i.includes(m))}).slice(0,5)),v=y(()=>{if(p.value.length===5)return p.value;const l=5-p.value.length,i=w.value.filter(_=>!p.value.map(b=>b.title).includes(_.title)),m=M(i).slice(0,l).sort((_,b)=>new Date(b.date)-new Date(_.date));return p.value.concat(m)});return(c,l)=>{const i=L,m=E,_=z;return u(),f(S,null,{default:g(()=>[t("main",U,[t("article",O,[t("h1",F,d(a(o).title),1),t("div",G,d(a(P)(a(o).date))+" Â· "+d(a(o).readingTime)+" "+d(c.$t("latest.minuteRead")),1),h(i,{value:a(o)},null,8,["value"])]),h(m,{class:"my-20"}),t("div",null,[t("h2",H,d(c.$t("slug.alsoEnjoy")),1),a(v)&&a(v).length?(u(),f(_,{key:0,articles:a(v)},null,8,["articles"])):D("",!0)])])]),fallback:g(()=>l[0]||(l[0]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1})}}}),J={class:"max-w-3xl mx-auto py-8 px-4"},le=x({__name:"[...slug]",setup(n){return(e,s)=>{const r=j;return u(),B("div",J,[h(r),(u(),f(S,null,{default:g(()=>[h(a(I))]),fallback:g(()=>s[0]||(s[0]=[t("div",{class:"animate-pulse"},[t("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),t("div",{class:"space-y-4"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}});export{le as default};
