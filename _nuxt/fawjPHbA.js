import{_ as E}from"./DAEhE6Gy.js";import L from"./B3WBlorY.js";import{d as y,r as M,q as S,z as N,o as P,c as i,e as A,A as w,B as v,w as b,n as q,C as o,t as m,h as T,D as R,E as $,f as e,i as h,S as j}from"./BZyqV7uF.js";import{c as k,U,f as V}from"./OtAQUBms.js";import{_ as z}from"./CWmCNkd4.js";import{u as B}from"./CG3QGWse.js";import{q as D}from"./BVzQw0kg.js";import"./D0KJLuO4.js";import"./CnKuk6va.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./DZ4J08ou.js";const H=y({__name:"Comments",setup(r){const t=M(""),s=S();N(s,(n,a)=>{l(n.path)}),P(()=>{l(s.path)});function l(n){const a=document.createElement("script");a.setAttribute("src","https://utteranc.es/client.js"),a.setAttribute("repo","codybontecou/blog-nuxt-content"),a.setAttribute("issue-term",n),a.setAttribute("label","Comments"),a.setAttribute("theme","github-light"),a.setAttribute("crossorigin","anonymous"),a.setAttribute("async","true"),t.value.innerHTML="",t.value.appendChild(a)}return(n,a)=>(i(),A("section",{ref_key:"comments",ref:t},null,512))}}),O=y({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(r){const t=r,s=w(()=>{const{class:l,...n}=t;return n});return(l,n)=>(i(),v(o(U),R(s.value,{class:o(k)("shrink-0 bg-border relative",t.orientation==="vertical"?"w-px h-full":"h-px w-full",t.class)}),{default:b(()=>[t.label?(i(),A("span",{key:0,class:q(o(k)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",t.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},m(t.label),3)):T("",!0)]),_:1},16,["class"]))}});function F(r){for(let t=r.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[r[t],r[s]]=[r[s],r[t]]}return r}const G={class:"flex flex-col justify-center"},I={class:"prose"},J={class:"text-4xl font-normal mb-4"},K={class:"text-gray-600 text-lg mb-10"},Q={class:"mb-6"},W=y({__name:"BlogPost",async setup(r){let t,s;const{path:l}=S(),{data:n}=([t,s]=$(()=>B(`post-${l}`,()=>D(l).findOne())),t=await t,s(),t),a=n.value.topics,{data:C}=([t,s]=$(()=>B("allArticles",()=>D("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),t=await t,s(),t),p=w(()=>C.value.filter(u=>{if(u.title===n.value.title)return!1;const c=u.topics||[],d=a||[];return c.length>0&&d.length>0&&c.some(_=>d.includes(_))}).slice(0,5)),x=w(()=>{if(p.value.length===5)return p.value;const c=5-p.value.length,d=C.value.filter(g=>!p.value.map(f=>f.title).includes(g.title)),_=F(d).slice(0,c).sort((g,f)=>new Date(f.date)-new Date(g.date));return p.value.concat(_)});return(u,c)=>{const d=L,_=H,g=O,f=z;return i(),v(j,null,{default:b(()=>[e("main",G,[e("article",I,[e("h1",J,m(o(n).title),1),e("div",K,m(o(V)(o(n).date))+" Â· "+m(o(n).readingTime)+" "+m(u.$t("latest.minuteRead")),1),h(d,{value:o(n)},null,8,["value"])]),h(_,{class:"mt-10"}),h(g,{class:"my-20"}),e("div",null,[e("h2",Q,m(u.$t("slug.alsoEnjoy")),1),o(x)&&o(x).length?(i(),v(f,{key:0,articles:o(x)},null,8,["articles"])):T("",!0)])])]),fallback:b(()=>c[0]||(c[0]=[e("div",{class:"animate-pulse"},[e("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),e("div",{class:"space-y-4"},[e("div",{class:"h-4 bg-gray-200 rounded"}),e("div",{class:"h-4 bg-gray-200 rounded"}),e("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1})}}}),X={class:"max-w-3xl mx-0 md:mx-auto py-8 px-4"},ut=y({__name:"[...slug]",setup(r){return(t,s)=>{const l=E;return i(),A("div",X,[h(l),(i(),v(j,null,{default:b(()=>[h(o(W))]),fallback:b(()=>s[0]||(s[0]=[e("div",{class:"animate-pulse"},[e("div",{class:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e("div",{class:"h-4 bg-gray-200 rounded w-1/4 mb-10"}),e("div",{class:"space-y-4"},[e("div",{class:"h-4 bg-gray-200 rounded"}),e("div",{class:"h-4 bg-gray-200 rounded"}),e("div",{class:"h-4 bg-gray-200 rounded w-5/6"})])],-1)])),_:1}))])}}});export{ut as default};
