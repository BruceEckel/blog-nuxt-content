import{c as j,O as D,f as T}from"./B9TIH4Oe.js";import{d as N,c as x,A,w as h,E as L,n as O,B as o,G as P,D as M,e as b,f as a,t as i,i as v,g as _,h as $,F as S,H as F}from"./BFvqfGYD.js";import{_ as W}from"./PN-oVKHf.js";import{_ as q}from"./2UJmm52Z.js";import{u as E}from"./BgtIJdO_.js";import{q as R}from"./BvFbqV5C.js";import"./Bnf1E_mG.js";function B(e){var s,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(s=0;s<e.length;s++)e[s]&&(t=B(e[s]))&&(n&&(n+=" "),n+=t);else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function G(){for(var e,s,t=0,n="";t<arguments.length;)(e=arguments[t++])&&(s=B(e))&&(n&&(n+=" "),n+=s);return n}const C=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,V=G,H=(e,s)=>t=>{var n;if((s==null?void 0:s.variants)==null)return V(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:u,defaultVariants:l}=s,m=Object.keys(u).map(r=>{const f=t==null?void 0:t[r],d=l==null?void 0:l[r];if(f===null)return null;const g=C(f)||C(d);return u[r][g]}),y=t&&Object.entries(t).reduce((r,f)=>{let[d,g]=f;return g===void 0||(r[d]=g),r},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((r,f)=>{let{class:d,className:g,...p}=f;return Object.entries(p).every(z=>{let[k,w]=z;return Array.isArray(w)?w.includes({...l,...y}[k]):{...l,...y}[k]===w})?[...r,d,g]:r},[]);return V(e,m,c,t==null?void 0:t.class,t==null?void 0:t.className)},I=N({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;return(t,n)=>(x(),A(o(D),{as:t.as,"as-child":t.asChild,class:O(o(j)(o(K)({variant:t.variant,size:t.size}),s.class))},{default:h(()=>[L(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),K=H("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=(e,s,t)=>`${T(e)} Â· ${s} ${t("latest.minuteRead")}`,J=e=>{if(!(e!=null&&e.children))return"";const s=e.children.find(n=>{var u,l;return n.tag==="p"&&((l=(u=n.children)==null?void 0:u[0])==null?void 0:l.value)});if(!s)return"";const t=s.children[0].value;return t.length<=120?t:t.slice(0,120).trim()+"..."},Q=e=>!e||!e.length?null:e.find(s=>!s.ignore)||null,X=e=>{const s=e==null?void 0:e.flatMap(t=>t.topics||[]).filter(Boolean).map(t=>t.toLowerCase());return[...new Set(s)].sort()},Y={class:"h-full mx-auto max-w-7xl flex items-center justify-center pt-16 px-4 sm:px-6 lg:px-8"},Z={class:"lg:pt-0 lg:grid lg:grid-cols-2 lg:gap-x-12"},tt={class:"max-w-lg mx-auto mb-16 lg:mb-0 lg:mx-0"},et={class:"mb-4"},st={class:"mb-4 text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl"},nt={class:"text-lg italic leading-8 text-gray-600"},at={class:"mb-8 flex items-center gap-x-2.5"},rt={key:0,class:"mb-16"},ot={class:"text-gray-600 mb-6"},it={class:"text-xl font-medium mb-2"},lt={class:"text-gray-600 mb-4"},ct={class:"text-gray-600"},dt={key:1,class:"mb-16"},ut={class:"text-lg text-gray-600"},mt={class:"mt-6 flex flex-wrap gap-2"},ft={class:"max-w-lg mx-auto lg:mt-0"},gt={class:"mb-6 text-lg text-gray-600"},wt=N({__name:"index",async setup(e){let s,t;const{t:n}=P(),{data:u}=([s,t]=M(()=>E("articles",()=>R("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),s=await s,t(),s),l=X(u.value),m=Q(u.value),y=U(m.date,m.readingTime,n);return(c,r)=>{const f=I,d=W,g=q;return x(),b("div",Y,[a("div",Z,[a("div",tt,[a("div",et,[a("h1",st,i(c.$t("landing.hero")),1),a("p",nt,i(c.$t("landing.description")),1)]),a("div",at,[v(d,{to:"/"},{default:h(()=>[v(f,null,{default:h(()=>[_(i(c.$t("landing.cta")),1)]),_:1})]),_:1}),a("a",{href:"#key-features",onClick:r[0]||(r[0]=()=>{})},[v(f,{variant:"outline"},{default:h(()=>[_(i(c.$t("landing.learnMore")),1)]),_:1})])]),o(m)?(x(),b("section",rt,[a("h2",ot,i(c.$t("latest.latest")),1),a("article",null,[a("h3",it,[v(d,{to:o(m)._path,class:"hover:opacity-75"},{default:h(()=>[_(i(o(m).title),1)]),_:1},8,["to"])]),a("div",lt,i(o(y)),1),a("p",ct,[_(i(o(J)(o(m).body))+" ",1),v(d,{to:o(m)._path,class:"text-gray-900 hover:opacity-75"},{default:h(()=>[_(i(c.$t("latest.keepReading")),1)]),_:1},8,["to"])])])])):$("",!0),o(l).length?(x(),b("section",dt,[a("h2",ut,i(c.$t("topics.topics")),1),a("div",mt,[(x(!0),b(S,null,F(o(l),p=>(x(),A(d,{key:p,to:`/topics/${p}`,class:"underline hover:opacity-75"},{default:h(()=>[_(i(p),1)]),_:2},1032,["to"]))),128))])])):$("",!0)]),a("div",ft,[a("h2",gt,i(c.$t("writing.writing")),1),v(g,{articles:o(u)},null,8,["articles"])])])])}}});export{wt as default};
