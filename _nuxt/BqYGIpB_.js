import{_ as k,a as L}from"./BJiZExQj.js";import S from"./BJ1fVlb2.js";import{c as v,U as N}from"./S08G9vSQ.js";import{d as b,z as g,c as h,A as $,w as j,e as C,n as q,B as n,t as d,h as T,C as U,q as V,D as y,i as m,f as l}from"./BLpb8e0D.js";import{u as w}from"./DKCd0son.js";import{q as A}from"./B9bakpx6.js";import"./Cm3Z84bl.js";import"./C2hWPIGu.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./BHERNeFG.js";const z=b({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(e){const t=e,s=g(()=>{const{class:u,...a}=t;return a});return(u,a)=>(h(),$(n(N),U(s.value,{class:n(v)("shrink-0 bg-border relative",t.orientation==="vertical"?"w-px h-full":"h-px w-full",t.class)}),{default:j(()=>[t.label?(h(),C("span",{key:0,class:q(n(v)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",t.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},d(t.label),3)):T("",!0)]),_:1},16,["class"]))}}),M=e=>new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});function P(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}const R={class:"max-w-3xl mx-auto py-8 px-4"},E={class:""},O={class:"text-4xl font-normal mb-4"},Y={class:"text-gray-600 text-lg mb-10"},et=b({__name:"[...slug]",async setup(e){let t,s;const{path:u}=V(),{data:a}=([t,s]=y(()=>w(`post-${u}`,()=>A(u).findOne())),t=await t,s(),t),D=a.value.topics,{data:x}=([t,s]=y(()=>w("allArticles",()=>A().find())),t=await t,s(),t),r=g(()=>x.value.filter(p=>p.title!==a.value.title&&p.topics.some(o=>D.includes(o))).slice(0,5)),B=g(()=>{if(r.value.length===5)return r;const o=5-r.value.length,_=x.value.filter(c=>!r.value.map(i=>i.title).includes(c.title)),f=P(_).slice(0,o).sort((c,i)=>new Date(i.date)-new Date(c.date));return r.value.concat(f)});return(p,o)=>{const _=L,f=S,c=z,i=k;return h(),C("div",R,[m(_),l("main",null,[l("article",E,[l("h1",O,d(n(a).title),1),l("div",Y,d(n(M)(n(a).date))+" Â· "+d(n(a).readingTime)+" minute read ",1),m(f,{value:n(a)},null,8,["value"])]),m(c,{class:"my-20"}),l("div",null,[o[0]||(o[0]=l("h2",null,"You might also enjoy",-1)),m(i,{articles:n(B)},null,8,["articles"])])])])}}});export{et as default};
