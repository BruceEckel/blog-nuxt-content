import{d as b,c as g,A as w,w as l,I as C,n as z,B as n,C as V,O as D,J as L,K as N,E as T,z as M,e as p,f as s,t as o,i as d,g as u,h as y,F as P,G as A}from"./Cp8NdCk9.js";import{_ as F}from"./DMmEstnT.js";import{_ as R}from"./kgRsMDDT.js";import{f as S,c as q,g as E}from"./CIstYl3W.js";import{u as I}from"./BSOutVnO.js";import{q as W}from"./BNbGs7Kz.js";import"./C28vey_z.js";const j=b({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const a=e;return(t,m)=>(g(),w(n(D),{as:t.as,"as-child":t.asChild,class:z(n(V)(n(G)({variant:t.variant,size:t.size}),a.class))},{default:l(()=>[C(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),G=L("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),J=(e,a,t)=>`${S(e)} Â· ${a} ${t("latest.minuteRead")}`,K=e=>{if(!(e!=null&&e.children))return"";const a=e.children.find(m=>{var c,h;return m.tag==="p"&&((h=(c=m.children)==null?void 0:c[0])==null?void 0:h.value)});if(!a)return"";const t=a.children[0].value;return t.length<=120?t:t.slice(0,120).trim()+"..."},O=e=>!e||!e.length?null:e.find(a=>!a.ignore)||null,H=e=>{const a=e==null?void 0:e.flatMap(t=>t.topics||[]).filter(Boolean).map(t=>t.toLowerCase());return[...new Set(a)].sort()},Q={class:"h-full mx-auto max-w-7xl py-16 px-4 sm:px-6 lg:px-8"},U={class:"lg:pt-0 lg:grid lg:grid-cols-2 lg:gap-x-12"},X={class:"max-w-lg mx-auto mb-16 lg:mb-0 lg:mx-0"},Y={class:"lg:fixed lg:max-w-lg"},Z={class:"mb-4"},tt={class:"mb-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl"},et={class:"text-lg italic leading-8 text-gray-600"},st={class:"mb-8 flex items-center gap-x-2.5 w-full"},at={key:0,class:"mb-16 w-full"},nt={class:"text-gray-600 mb-6"},ot={class:"text-xl font-medium mb-2"},rt={class:"text-gray-600 mb-4"},it={class:"text-gray-600"},lt={key:1,class:"mb-16 w-full"},ct={class:"text-lg text-gray-600"},dt={class:"mt-6 flex flex-wrap gap-2"},ut={class:"max-w-lg mx-auto lg:mt-0"},gt={class:"mb-6 text-lg text-gray-600"},yt=b({__name:"index",async setup(e){let a,t;const{t:m}=N(),{data:c}=([a,t]=T(()=>I("articles",()=>W("/").sort({date:-1}).where({draft:{$ne:!0},ignore:{$ne:!0}}).find())),a=await a,t(),a),h=H(c.value),r=O(c.value),$=M(()=>E(r==null?void 0:r.body)),k=J(r.date,q($.value),m);return(i,x)=>{const v=j,f=F,B=R;return g(),p("div",Q,[s("div",U,[s("div",X,[s("div",Y,[s("div",Z,[s("h1",tt,o(i.$t("landing.hero")),1),s("p",et,o(i.$t("landing.description")),1)]),s("div",st,[d(f,{to:"/"},{default:l(()=>[d(v,null,{default:l(()=>[u(o(i.$t("landing.cta")),1)]),_:1})]),_:1}),s("a",{href:"#key-features",onClick:x[0]||(x[0]=()=>{})},[d(v,{variant:"outline"},{default:l(()=>[u(o(i.$t("landing.learnMore")),1)]),_:1})])]),n(r)?(g(),p("section",at,[s("h2",nt,o(i.$t("latest.latest")),1),s("article",null,[s("h3",ot,[d(f,{to:n(r)._path,class:"hover:opacity-75"},{default:l(()=>[u(o(n(r).title),1)]),_:1},8,["to"])]),s("div",rt,o(n(k)),1),s("p",it,[u(o(n(K)(n(r).body))+" ",1),d(f,{to:n(r)._path,class:"text-gray-900 hover:opacity-75"},{default:l(()=>[u(o(i.$t("latest.keepReading")),1)]),_:1},8,["to"])])])])):y("",!0),n(h).length?(g(),p("section",lt,[s("h2",ct,o(i.$t("topics.topics")),1),s("div",dt,[(g(!0),p(P,null,A(n(h),_=>(g(),w(f,{key:_,to:`/topics/${_}`,class:"underline hover:opacity-75 break-keep whitespace-nowrap"},{default:l(()=>[u(o(_),1)]),_:2},1032,["to"]))),128))])])):y("",!0)])]),s("div",ut,[s("h2",gt,o(i.$t("writing.writing")),1),d(B,{articles:n(c)},null,8,["articles"])])])])}}});export{yt as default};
