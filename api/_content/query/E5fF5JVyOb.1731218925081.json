{"_path":"/silently-update-url-nuxt-3","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Silently Update URL in Nuxt 3","description":"Update your URL using vue-router within Nuxt 3 so that your page does not refresh on variable change.","type":"post","author":{"name":"Cody Bontecou","image":"https://codybontecou.com/images/cody-abstract.jpeg"},"date":"2022-02-14T00:00:00.000Z","category":"tutorials","dropdown":"NuxtJS","tags":["vue","Vue","Vite","Javascript","nuxt"],"meta":[{"name":"og:title","content":"Silently Update URL in Nuxt 3"},{"name":"og:description","content":"Update your URL using vue-router within Nuxt 3 so that your page does not refresh on variable change."},{"name":"og:image","content":"https://codybontecou.com/images/dynamic-search-queries-meta.png"},{"name":"og:image:alt","content":"Silently Update URL in Nuxt 3"},{"name":"og:title","content":"Silently Update URL in Nuxt 3"},{"name":"twitter:title","content":"Silently Update URL in Nuxt 3"},{"name":"twitter:text:title","content":"Silently Update URL in Nuxt 3"}],"canonicalUrl":"https://codybontecou.com/silently-update-url-nuxt-3.html","topics":["nuxt","vue router"],"created_at":"2024-10-31T14:26","last_modified":"2024-11-09T21:19","body":{"type":"root","children":[{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We often need to update a query parameter like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"?search=hello"}]},{"type":"text","value":" within our URL without refreshing the page. I'll quickly show you how to do that using Nuxt 3."}]}]},{"type":"element","tag":"h2","props":{"id":"collecting-user-input"},"children":[{"type":"text","value":"Collecting User Input"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For this tutorial, I'll be using a simple "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<input>"}]},{"type":"text","value":" field with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-model"}]},{"type":"text","value":" to gather the query parameter."}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<!-- pages/example.vue -->\n<template>\n  <input v-model=\"twitchStreamer\" />\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/example.vue -->\n<template>\n  <input v-model=\"twitchStreamer\" />\n</template>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"twitchStreamer"}]},{"type":"text","value":" is now a "},{"type":"element","tag":"a","props":{"href":"https://vuejs.org/guide/extras/reactivity-in-depth.html","rel":["nofollow"]},"children":[{"type":"text","value":"reactive variable"}]},{"type":"text","value":" that we can work with within "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"setup()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"// pages/example.vue\n<script>\n  setup() {\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n</script>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// pages/example.vue\n<script>\n  setup() {\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n</script>\n"}]}]},{"type":"element","tag":"h2","props":{"id":"nuxt-3s-userouter"},"children":[{"type":"text","value":"Nuxt 3's useRouter()"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I'm not sure what differences there are between Nuxt 2 and Nuxt 3, but so far there haven't been any."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Within "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"setup()"}]},{"type":"text","value":", call the auto-imported functions "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useRouter()"}]},{"type":"text","value":" to gain access to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"router"}]},{"type":"text","value":" object."}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"// pages/example.vue\n<script>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n</script>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// pages/example.vue\n<script>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n</script>\n"}]}]},{"type":"element","tag":"h2","props":{"id":"connecting-v-model-input-to-our-url"},"children":[{"type":"text","value":"Connecting v-model input to our URL"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, set up a watcher to watch our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"twitchStreamer"}]},{"type":"text","value":" v-model value so that every time it's value is updated, a bit of code is ran."}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"// pages/example.vue\n<script>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n</script>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// pages/example.vue\n<script>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n</script>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every time the twitchStreamer value is changed, we push to our URL using "},{"type":"element","tag":"a","props":{"href":"https://router.vuejs.org/guide/essentials/navigation.html","rel":["nofollow"]},"children":[{"type":"text","value":"vue-router"}]},{"type":"text","value":" with the updated query."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The query parameter of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".push"}]},{"type":"text","value":" takes in a key and value. The key in this example is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"streamer"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Because of this, the url that is updated will look like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/test?streamer="}]},{"type":"text","value":" with the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"twitchStreamer"}]},{"type":"text","value":" value beind after the = sign."}]},{"type":"element","tag":"h2","props":{"id":"what-about-when-you-refresh-or-navigate"},"children":[{"type":"text","value":"What about when you refresh or navigate?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There's a bit more to this topic but I decided to write a separate article "},{"type":"element","tag":"a","props":{"href":"https://codybontecou.com/using-url-query-params-in-nuxt-3.html","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":". Be sure to check if out if you are interested in how to deal with the query param on page refresh or direct navigation."}]},{"type":"element","tag":"h2","props":{"id":"final-code-snippet"},"children":[{"type":"text","value":"Final code snippet"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<!-- pages/example.vue -->\n<template>\n  <input v-model=\"twitchStreamer\" />\n</template>\n\n<script>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n</script>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/example.vue -->\n<template>\n  <input v-model=\"twitchStreamer\" />\n</template>\n\n<script>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n</script>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Silently Update URL in Nuxt 3","src":"https://codybontecou.com/images/update-url.gif"},"children":[]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"collecting-user-input","depth":2,"text":"Collecting User Input"},{"id":"nuxt-3s-userouter","depth":2,"text":"Nuxt 3's useRouter()"},{"id":"connecting-v-model-input-to-our-url","depth":2,"text":"Connecting v-model input to our URL"},{"id":"what-about-when-you-refresh-or-navigate","depth":2,"text":"What about when you refresh or navigate?"},{"id":"final-code-snippet","depth":2,"text":"Final code snippet"}]}},"_type":"markdown","_id":"content:silently-update-url-nuxt-3.md","_source":"content","_file":"silently-update-url-nuxt-3.md","_stem":"silently-update-url-nuxt-3","_extension":"md"}