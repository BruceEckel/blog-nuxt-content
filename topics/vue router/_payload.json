[{"data":1,"prerenderedAt":589},["ShallowReactive",2],{"post-/topics/vue%20router":3},[4,303],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":9,"type":10,"author":11,"date":14,"category":15,"dropdown":16,"tags":17,"meta":23,"canonicalUrl":38,"topics":39,"created_at":42,"last_modified":43,"body":44,"_type":297,"_id":298,"_source":299,"_file":300,"_stem":301,"_extension":302},"/using-url-query-params-in-nuxt-3","",false,"Using URL Query Params in Nuxt 3","Use Nuxt3's useRoute function to use URL parameters to determine state.","post",{"name":12,"image":13},"Cody Bontecou","https://codybontecou.com/images/cody-abstract.jpeg","2022-02-15T00:00:00.000Z","tutorials","NuxtJS",[18,19,20,21,22],"vue","Vue","Vite","Route","nuxt",[24,26,28,31,33,34,36],{"name":25,"content":8},"og:title",{"name":27,"content":9},"og:description",{"name":29,"content":30},"og:image","https://codybontecou.com/images/using-url-query-params-in-nuxt-3-meta.png",{"name":32,"content":8},"og:image:alt",{"name":25,"content":8},{"name":35,"content":8},"twitter:title",{"name":37,"content":8},"twitter:text:title","https://codybontecou.com/using-url-query-params-in-nuxt-3.html",[22,40,41],"vue router","composition","2024-10-31T14:26","2024-11-09T21:19",{"type":45,"children":46,"toc":290},"root",[47,69,76,90,103,109,123,128,156,168,180,186,206,211,232,241,261,273,279],{"type":48,"tag":49,"props":50,"children":51},"element","blockquote",{},[52],{"type":48,"tag":53,"props":54,"children":55},"p",{},[56,59,67],{"type":57,"value":58},"text","This is a continuation of my previous ",{"type":48,"tag":60,"props":61,"children":65},"a",{"href":62,"rel":63},"https://codybontecou.com/silently-update-url-nuxt-3.html",[64],"nofollow",[66],{"type":57,"value":10},{"type":57,"value":68}," on how to set query parameters in Nuxt 3. We'll be continuing with the code written there so make sure you check it out.",{"type":48,"tag":70,"props":71,"children":73},"h2",{"id":72},"the-problem-were-solving",[74],{"type":57,"value":75},"The problem we're solving",{"type":48,"tag":53,"props":77,"children":78},{},[79,81,88],{"type":57,"value":80},"We left off with our URL looking like ",{"type":48,"tag":82,"props":83,"children":85},"code",{"className":84},[],[86],{"type":57,"value":87},"localhost:3000/test?streamer=faker",{"type":57,"value":89},". This is nice but contained a few cases that are less than ideal.",{"type":48,"tag":53,"props":91,"children":92},{},[93,95,101],{"type":57,"value":94},"Because the URL parameter is being updated using our input's v-model, if the page is refreshed, we lose that local state and the value stored in ",{"type":48,"tag":82,"props":96,"children":98},{"className":97},[],[99],{"type":57,"value":100},"twitchStreamer",{"type":57,"value":102},".",{"type":48,"tag":70,"props":104,"children":106},{"id":105},"using-useroute-in-nuxt",[107],{"type":57,"value":108},"Using useRoute in Nuxt",{"type":48,"tag":53,"props":110,"children":111},{},[112,114,121],{"type":57,"value":113},"NuxtJS relies on ",{"type":48,"tag":60,"props":115,"children":118},{"href":116,"rel":117},"https://router.vuejs.org/",[64],[119],{"type":57,"value":120},"vue-router",{"type":57,"value":122}," for most of its routing logic.",{"type":48,"tag":53,"props":124,"children":125},{},[126],{"type":57,"value":127},"In our example, we are using the Composition API, one of the new features built into Nuxt 3.",{"type":48,"tag":53,"props":129,"children":130},{},[131,133,139,141,147,149,154],{"type":57,"value":132},"In order to get our route, we use bring ",{"type":48,"tag":82,"props":134,"children":136},{"className":135},[],[137],{"type":57,"value":138},"useRoute()",{"type":57,"value":140}," into our ",{"type":48,"tag":82,"props":142,"children":144},{"className":143},[],[145],{"type":57,"value":146},"setup()",{"type":57,"value":148},". Nuxt 3 auto-imports ",{"type":48,"tag":82,"props":150,"children":152},{"className":151},[],[153],{"type":57,"value":138},{"type":57,"value":155}," so we can chose to be explicit or implicit.",{"type":48,"tag":157,"props":158,"children":163},"pre",{"className":159,"code":161,"language":162,"meta":6},[160],"language-js","setup() {\n  const route = useRoute()\n}\n","js",[164],{"type":48,"tag":82,"props":165,"children":166},{"__ignoreMap":6},[167],{"type":57,"value":161},{"type":48,"tag":53,"props":169,"children":170},{},[171,173,178],{"type":57,"value":172},"Having our route unlocks all of the benefits of ",{"type":48,"tag":82,"props":174,"children":176},{"className":175},[],[177],{"type":57,"value":120},{"type":57,"value":179},", including access to our query params!",{"type":48,"tag":70,"props":181,"children":183},{"id":182},"making-the-query-param-persist",[184],{"type":57,"value":185},"Making the query param persist",{"type":48,"tag":53,"props":187,"children":188},{},[189,191,197,199,205],{"type":57,"value":190},"With access to our route, we can check the query variable (what's after the = in ",{"type":48,"tag":82,"props":192,"children":194},{"className":193},[],[195],{"type":57,"value":196},"streamer=",{"type":57,"value":198},") using ",{"type":48,"tag":82,"props":200,"children":202},{"className":201},[],[203],{"type":57,"value":204},"route.query.streamer",{"type":57,"value":102},{"type":48,"tag":53,"props":207,"children":208},{},[209],{"type":57,"value":210},"Easy!",{"type":48,"tag":53,"props":212,"children":213},{},[214,216,223,225,230],{"type":57,"value":215},"I now use this logic alongside a ",{"type":48,"tag":60,"props":217,"children":220},{"href":218,"rel":219},"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator",[64],[221],{"type":57,"value":222},"ternary operator",{"type":57,"value":224}," with the ",{"type":48,"tag":82,"props":226,"children":228},{"className":227},[],[229],{"type":57,"value":100},{"type":57,"value":231}," variable.",{"type":48,"tag":157,"props":233,"children":236},{"className":234,"code":235,"language":162,"meta":6},[160],"const twitchStreamer = ref(route.query.streamer ? route.query.streamer : '')\n",[237],{"type":48,"tag":82,"props":238,"children":239},{"__ignoreMap":6},[240],{"type":57,"value":235},{"type":48,"tag":53,"props":242,"children":243},{},[244,246,251,253,259],{"type":57,"value":245},"Now, every time the page is navigated to or refreshed, our ",{"type":48,"tag":82,"props":247,"children":249},{"className":248},[],[250],{"type":57,"value":100},{"type":57,"value":252}," will check if our ",{"type":48,"tag":82,"props":254,"children":256},{"className":255},[],[257],{"type":57,"value":258},"route",{"type":57,"value":260}," has a streamer query parameter.",{"type":48,"tag":53,"props":262,"children":263},{},[264,266,271],{"type":57,"value":265},"If it does, our ",{"type":48,"tag":82,"props":267,"children":269},{"className":268},[],[270],{"type":57,"value":100},{"type":57,"value":272}," will contain the parameter's value. Otherwise, it'll be an empty string.",{"type":48,"tag":70,"props":274,"children":276},{"id":275},"final-code-snippet",[277],{"type":57,"value":278},"Final code snippet",{"type":48,"tag":157,"props":280,"children":285},{"className":281,"code":283,"language":284,"meta":6},[282],"language-html","\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n\n\u003Cscript>\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const twitchStreamer = ref(route.query.streamer ? route.query.streamer : '')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n","html",[286],{"type":48,"tag":82,"props":287,"children":288},{"__ignoreMap":6},[289],{"type":57,"value":283},{"title":6,"searchDepth":291,"depth":291,"links":292},2,[293,294,295,296],{"id":72,"depth":291,"text":75},{"id":105,"depth":291,"text":108},{"id":182,"depth":291,"text":185},{"id":275,"depth":291,"text":278},"markdown","content:using-url-query-params-in-nuxt-3.md","content","using-url-query-params-in-nuxt-3.md","using-url-query-params-in-nuxt-3","md",{"_path":304,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":305,"description":306,"type":10,"author":307,"date":308,"category":15,"dropdown":16,"tags":309,"meta":311,"canonicalUrl":62,"topics":320,"created_at":42,"last_modified":43,"body":321,"_type":297,"_id":586,"_source":299,"_file":587,"_stem":588,"_extension":302},"/silently-update-url-nuxt-3","Silently Update URL in Nuxt 3","Update your URL using vue-router within Nuxt 3 so that your page does not refresh on variable change.",{"name":12,"image":13},"2022-02-14T00:00:00.000Z",[18,19,20,310,22],"Javascript",[312,313,314,316,317,318,319],{"name":25,"content":305},{"name":27,"content":306},{"name":29,"content":315},"https://codybontecou.com/images/dynamic-search-queries-meta.png",{"name":32,"content":305},{"name":25,"content":305},{"name":35,"content":305},{"name":37,"content":305},[22,40],{"type":45,"children":322,"toc":579},[323,339,345,366,375,400,409,415,423,451,460,466,478,487,500,520,539,545,558,562,571],{"type":48,"tag":49,"props":324,"children":325},{},[326],{"type":48,"tag":53,"props":327,"children":328},{},[329,331,337],{"type":57,"value":330},"We often need to update a query parameter like ",{"type":48,"tag":82,"props":332,"children":334},{"className":333},[],[335],{"type":57,"value":336},"?search=hello",{"type":57,"value":338}," within our URL without refreshing the page. I'll quickly show you how to do that using Nuxt 3.",{"type":48,"tag":70,"props":340,"children":342},{"id":341},"collecting-user-input",[343],{"type":57,"value":344},"Collecting User Input",{"type":48,"tag":53,"props":346,"children":347},{},[348,350,356,358,364],{"type":57,"value":349},"For this tutorial, I'll be using a simple ",{"type":48,"tag":82,"props":351,"children":353},{"className":352},[],[354],{"type":57,"value":355},"\u003Cinput>",{"type":57,"value":357}," field with ",{"type":48,"tag":82,"props":359,"children":361},{"className":360},[],[362],{"type":57,"value":363},"v-model",{"type":57,"value":365}," to gather the query parameter.",{"type":48,"tag":157,"props":367,"children":370},{"className":368,"code":369,"language":284,"meta":6},[282],"\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n",[371],{"type":48,"tag":82,"props":372,"children":373},{"__ignoreMap":6},[374],{"type":57,"value":369},{"type":48,"tag":53,"props":376,"children":377},{},[378,383,385,392,394,399],{"type":48,"tag":82,"props":379,"children":381},{"className":380},[],[382],{"type":57,"value":100},{"type":57,"value":384}," is now a ",{"type":48,"tag":60,"props":386,"children":389},{"href":387,"rel":388},"https://vuejs.org/guide/extras/reactivity-in-depth.html",[64],[390],{"type":57,"value":391},"reactive variable",{"type":57,"value":393}," that we can work with within ",{"type":48,"tag":82,"props":395,"children":397},{"className":396},[],[398],{"type":57,"value":146},{"type":57,"value":102},{"type":48,"tag":157,"props":401,"children":404},{"className":402,"code":403,"language":162,"meta":6},[160],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n\u003C/script>\n",[405],{"type":48,"tag":82,"props":406,"children":407},{"__ignoreMap":6},[408],{"type":57,"value":403},{"type":48,"tag":70,"props":410,"children":412},{"id":411},"nuxt-3s-userouter",[413],{"type":57,"value":414},"Nuxt 3's useRouter()",{"type":48,"tag":49,"props":416,"children":417},{},[418],{"type":48,"tag":53,"props":419,"children":420},{},[421],{"type":57,"value":422},"I'm not sure what differences there are between Nuxt 2 and Nuxt 3, but so far there haven't been any.",{"type":48,"tag":53,"props":424,"children":425},{},[426,428,433,435,441,443,449],{"type":57,"value":427},"Within ",{"type":48,"tag":82,"props":429,"children":431},{"className":430},[],[432],{"type":57,"value":146},{"type":57,"value":434},", call the auto-imported functions ",{"type":48,"tag":82,"props":436,"children":438},{"className":437},[],[439],{"type":57,"value":440},"useRouter()",{"type":57,"value":442}," to gain access to the ",{"type":48,"tag":82,"props":444,"children":446},{"className":445},[],[447],{"type":57,"value":448},"router",{"type":57,"value":450}," object.",{"type":48,"tag":157,"props":452,"children":455},{"className":453,"code":454,"language":162,"meta":6},[160],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n\u003C/script>\n",[456],{"type":48,"tag":82,"props":457,"children":458},{"__ignoreMap":6},[459],{"type":57,"value":454},{"type":48,"tag":70,"props":461,"children":463},{"id":462},"connecting-v-model-input-to-our-url",[464],{"type":57,"value":465},"Connecting v-model input to our URL",{"type":48,"tag":53,"props":467,"children":468},{},[469,471,476],{"type":57,"value":470},"Now, set up a watcher to watch our ",{"type":48,"tag":82,"props":472,"children":474},{"className":473},[],[475],{"type":57,"value":100},{"type":57,"value":477}," v-model value so that every time it's value is updated, a bit of code is ran.",{"type":48,"tag":157,"props":479,"children":482},{"className":480,"code":481,"language":162,"meta":6},[160],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n",[483],{"type":48,"tag":82,"props":484,"children":485},{"__ignoreMap":6},[486],{"type":57,"value":481},{"type":48,"tag":53,"props":488,"children":489},{},[490,492,498],{"type":57,"value":491},"Every time the twitchStreamer value is changed, we push to our URL using ",{"type":48,"tag":60,"props":493,"children":496},{"href":494,"rel":495},"https://router.vuejs.org/guide/essentials/navigation.html",[64],[497],{"type":57,"value":120},{"type":57,"value":499}," with the updated query.",{"type":48,"tag":53,"props":501,"children":502},{},[503,505,511,513,519],{"type":57,"value":504},"The query parameter of ",{"type":48,"tag":82,"props":506,"children":508},{"className":507},[],[509],{"type":57,"value":510},".push",{"type":57,"value":512}," takes in a key and value. The key in this example is ",{"type":48,"tag":82,"props":514,"children":516},{"className":515},[],[517],{"type":57,"value":518},"streamer",{"type":57,"value":102},{"type":48,"tag":53,"props":521,"children":522},{},[523,525,531,532,537],{"type":57,"value":524},"Because of this, the url that is updated will look like ",{"type":48,"tag":82,"props":526,"children":528},{"className":527},[],[529],{"type":57,"value":530},"/test?streamer=",{"type":57,"value":224},{"type":48,"tag":82,"props":533,"children":535},{"className":534},[],[536],{"type":57,"value":100},{"type":57,"value":538}," value beind after the = sign.",{"type":48,"tag":70,"props":540,"children":542},{"id":541},"what-about-when-you-refresh-or-navigate",[543],{"type":57,"value":544},"What about when you refresh or navigate?",{"type":48,"tag":53,"props":546,"children":547},{},[548,550,556],{"type":57,"value":549},"There's a bit more to this topic but I decided to write a separate article ",{"type":48,"tag":60,"props":551,"children":553},{"href":38,"rel":552},[64],[554],{"type":57,"value":555},"here",{"type":57,"value":557},". Be sure to check if out if you are interested in how to deal with the query param on page refresh or direct navigation.",{"type":48,"tag":70,"props":559,"children":560},{"id":275},[561],{"type":57,"value":278},{"type":48,"tag":157,"props":563,"children":566},{"className":564,"code":565,"language":284,"meta":6},[282],"\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n",[567],{"type":48,"tag":82,"props":568,"children":569},{"__ignoreMap":6},[570],{"type":57,"value":565},{"type":48,"tag":53,"props":572,"children":573},{},[574],{"type":48,"tag":575,"props":576,"children":578},"img",{"alt":305,"src":577},"https://codybontecou.com/images/update-url.gif",[],{"title":6,"searchDepth":291,"depth":291,"links":580},[581,582,583,584,585],{"id":341,"depth":291,"text":344},{"id":411,"depth":291,"text":414},{"id":462,"depth":291,"text":465},{"id":541,"depth":291,"text":544},{"id":275,"depth":291,"text":278},"content:silently-update-url-nuxt-3.md","silently-update-url-nuxt-3.md","silently-update-url-nuxt-3",1732234595076]