[{"data":1,"prerenderedAt":597},["ShallowReactive",2],{"post-/topics/vue%20router":3},[4,306],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":9,"type":10,"author":11,"date":14,"category":15,"dropdown":16,"tags":17,"meta":23,"canonicalUrl":38,"topics":39,"body":42,"_type":301,"_id":302,"_source":303,"_file":304,"_stem":49,"_extension":305},"/using-url-query-params-in-nuxt-3","",false,"Using URL Query Params in Nuxt 3","Use Nuxt3's useRoute function to use URL parameters to determine state.","post",{"name":12,"image":13},"Cody Bontecou","https://codybontecou.com/images/cody-abstract.jpeg","2022-02-15T00:00:00.000Z","tutorials","NuxtJS",[18,19,20,21,22],"vue","Vue","Vite","Route","nuxt",[24,26,28,31,33,34,36],{"name":25,"content":8},"og:title",{"name":27,"content":9},"og:description",{"name":29,"content":30},"og:image","https://codybontecou.com/images/using-url-query-params-in-nuxt-3-meta.png",{"name":32,"content":8},"og:image:alt",{"name":25,"content":8},{"name":35,"content":8},"twitter:title",{"name":37,"content":8},"twitter:text:title","https://codybontecou.com/using-url-query-params-in-nuxt-3.html",[22,40,41],"vue router","composition",{"type":43,"children":44,"toc":294},"root",[45,53,73,80,94,107,113,127,132,160,172,184,190,210,215,236,245,265,277,283],{"type":46,"tag":47,"props":48,"children":50},"element","h1",{"id":49},"using-url-query-params-in-nuxt-3",[51],{"type":52,"value":8},"text",{"type":46,"tag":54,"props":55,"children":56},"blockquote",{},[57],{"type":46,"tag":58,"props":59,"children":60},"p",{},[61,63,71],{"type":52,"value":62},"This is a continuation of my previous ",{"type":46,"tag":64,"props":65,"children":69},"a",{"href":66,"rel":67},"https://codybontecou.com/silently-update-url-nuxt-3.html",[68],"nofollow",[70],{"type":52,"value":10},{"type":52,"value":72}," on how to set query parameters in Nuxt 3. We'll be continuing with the code written there so make sure you check it out.",{"type":46,"tag":74,"props":75,"children":77},"h2",{"id":76},"the-problem-were-solving",[78],{"type":52,"value":79},"The problem we're solving",{"type":46,"tag":58,"props":81,"children":82},{},[83,85,92],{"type":52,"value":84},"We left off with our URL looking like ",{"type":46,"tag":86,"props":87,"children":89},"code",{"className":88},[],[90],{"type":52,"value":91},"localhost:3000/test?streamer=faker",{"type":52,"value":93},". This is nice but contained a few cases that are less than ideal.",{"type":46,"tag":58,"props":95,"children":96},{},[97,99,105],{"type":52,"value":98},"Because the URL parameter is being updated using our input's v-model, if the page is refreshed, we lose that local state and the value stored in ",{"type":46,"tag":86,"props":100,"children":102},{"className":101},[],[103],{"type":52,"value":104},"twitchStreamer",{"type":52,"value":106},".",{"type":46,"tag":74,"props":108,"children":110},{"id":109},"using-useroute-in-nuxt",[111],{"type":52,"value":112},"Using useRoute in Nuxt",{"type":46,"tag":58,"props":114,"children":115},{},[116,118,125],{"type":52,"value":117},"NuxtJS relies on ",{"type":46,"tag":64,"props":119,"children":122},{"href":120,"rel":121},"https://router.vuejs.org/",[68],[123],{"type":52,"value":124},"vue-router",{"type":52,"value":126}," for most of its routing logic.",{"type":46,"tag":58,"props":128,"children":129},{},[130],{"type":52,"value":131},"In our example, we are using the Composition API, one of the new features built into Nuxt 3.",{"type":46,"tag":58,"props":133,"children":134},{},[135,137,143,145,151,153,158],{"type":52,"value":136},"In order to get our route, we use bring ",{"type":46,"tag":86,"props":138,"children":140},{"className":139},[],[141],{"type":52,"value":142},"useRoute()",{"type":52,"value":144}," into our ",{"type":46,"tag":86,"props":146,"children":148},{"className":147},[],[149],{"type":52,"value":150},"setup()",{"type":52,"value":152},". Nuxt 3 auto-imports ",{"type":46,"tag":86,"props":154,"children":156},{"className":155},[],[157],{"type":52,"value":142},{"type":52,"value":159}," so we can chose to be explicit or implicit.",{"type":46,"tag":161,"props":162,"children":167},"pre",{"className":163,"code":165,"language":166,"meta":6},[164],"language-js","setup() {\n  const route = useRoute()\n}\n","js",[168],{"type":46,"tag":86,"props":169,"children":170},{"__ignoreMap":6},[171],{"type":52,"value":165},{"type":46,"tag":58,"props":173,"children":174},{},[175,177,182],{"type":52,"value":176},"Having our route unlocks all of the benefits of ",{"type":46,"tag":86,"props":178,"children":180},{"className":179},[],[181],{"type":52,"value":124},{"type":52,"value":183},", including access to our query params!",{"type":46,"tag":74,"props":185,"children":187},{"id":186},"making-the-query-param-persist",[188],{"type":52,"value":189},"Making the query param persist",{"type":46,"tag":58,"props":191,"children":192},{},[193,195,201,203,209],{"type":52,"value":194},"With access to our route, we can check the query variable (what's after the = in ",{"type":46,"tag":86,"props":196,"children":198},{"className":197},[],[199],{"type":52,"value":200},"streamer=",{"type":52,"value":202},") using ",{"type":46,"tag":86,"props":204,"children":206},{"className":205},[],[207],{"type":52,"value":208},"route.query.streamer",{"type":52,"value":106},{"type":46,"tag":58,"props":211,"children":212},{},[213],{"type":52,"value":214},"Easy!",{"type":46,"tag":58,"props":216,"children":217},{},[218,220,227,229,234],{"type":52,"value":219},"I now use this logic alongside a ",{"type":46,"tag":64,"props":221,"children":224},{"href":222,"rel":223},"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator",[68],[225],{"type":52,"value":226},"ternary operator",{"type":52,"value":228}," with the ",{"type":46,"tag":86,"props":230,"children":232},{"className":231},[],[233],{"type":52,"value":104},{"type":52,"value":235}," variable.",{"type":46,"tag":161,"props":237,"children":240},{"className":238,"code":239,"language":166,"meta":6},[164],"const twitchStreamer = ref(route.query.streamer ? route.query.streamer : '')\n",[241],{"type":46,"tag":86,"props":242,"children":243},{"__ignoreMap":6},[244],{"type":52,"value":239},{"type":46,"tag":58,"props":246,"children":247},{},[248,250,255,257,263],{"type":52,"value":249},"Now, every time the page is navigated to or refreshed, our ",{"type":46,"tag":86,"props":251,"children":253},{"className":252},[],[254],{"type":52,"value":104},{"type":52,"value":256}," will check if our ",{"type":46,"tag":86,"props":258,"children":260},{"className":259},[],[261],{"type":52,"value":262},"route",{"type":52,"value":264}," has a streamer query parameter.",{"type":46,"tag":58,"props":266,"children":267},{},[268,270,275],{"type":52,"value":269},"If it does, our ",{"type":46,"tag":86,"props":271,"children":273},{"className":272},[],[274],{"type":52,"value":104},{"type":52,"value":276}," will contain the parameter's value. Otherwise, it'll be an empty string.",{"type":46,"tag":74,"props":278,"children":280},{"id":279},"final-code-snippet",[281],{"type":52,"value":282},"Final code snippet",{"type":46,"tag":161,"props":284,"children":289},{"className":285,"code":287,"language":288,"meta":6},[286],"language-html","\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n\n\u003Cscript>\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const twitchStreamer = ref(route.query.streamer ? route.query.streamer : '')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n","html",[290],{"type":46,"tag":86,"props":291,"children":292},{"__ignoreMap":6},[293],{"type":52,"value":287},{"title":6,"searchDepth":295,"depth":295,"links":296},2,[297,298,299,300],{"id":76,"depth":295,"text":79},{"id":109,"depth":295,"text":112},{"id":186,"depth":295,"text":189},{"id":279,"depth":295,"text":282},"markdown","content:using-url-query-params-in-nuxt-3.md","content","using-url-query-params-in-nuxt-3.md","md",{"_path":307,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":308,"description":309,"type":10,"author":310,"date":311,"category":15,"dropdown":16,"tags":312,"meta":314,"canonicalUrl":66,"topics":323,"body":324,"_type":301,"_id":594,"_source":303,"_file":595,"_stem":596,"_extension":305},"/silently-update-url-nuxt-3","Silently Update URL in Nuxt 3","Update your URL using vue-router within Nuxt 3 so that your page does not refresh on variable change.",{"name":12,"image":13},"2022-02-14T00:00:00.000Z",[18,19,20,313,22],"Javascript",[315,316,317,319,320,321,322],{"name":25,"content":308},{"name":27,"content":309},{"name":29,"content":318},"https://codybontecou.com/images/dynamic-search-queries-meta.png",{"name":32,"content":308},{"name":25,"content":308},{"name":35,"content":308},{"name":37,"content":308},[22,40],{"type":43,"children":325,"toc":587},[326,331,347,353,374,383,408,417,423,431,459,468,474,486,495,508,528,547,553,566,570,579],{"type":46,"tag":47,"props":327,"children":329},{"id":328},"silently-update-url-in-nuxt-3",[330],{"type":52,"value":308},{"type":46,"tag":54,"props":332,"children":333},{},[334],{"type":46,"tag":58,"props":335,"children":336},{},[337,339,345],{"type":52,"value":338},"We often need to update a query parameter like ",{"type":46,"tag":86,"props":340,"children":342},{"className":341},[],[343],{"type":52,"value":344},"?search=hello",{"type":52,"value":346}," within our URL without refreshing the page. I'll quickly show you how to do that using Nuxt 3.",{"type":46,"tag":74,"props":348,"children":350},{"id":349},"collecting-user-input",[351],{"type":52,"value":352},"Collecting User Input",{"type":46,"tag":58,"props":354,"children":355},{},[356,358,364,366,372],{"type":52,"value":357},"For this tutorial, I'll be using a simple ",{"type":46,"tag":86,"props":359,"children":361},{"className":360},[],[362],{"type":52,"value":363},"\u003Cinput>",{"type":52,"value":365}," field with ",{"type":46,"tag":86,"props":367,"children":369},{"className":368},[],[370],{"type":52,"value":371},"v-model",{"type":52,"value":373}," to gather the query parameter.",{"type":46,"tag":161,"props":375,"children":378},{"className":376,"code":377,"language":288,"meta":6},[286],"\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n",[379],{"type":46,"tag":86,"props":380,"children":381},{"__ignoreMap":6},[382],{"type":52,"value":377},{"type":46,"tag":58,"props":384,"children":385},{},[386,391,393,400,402,407],{"type":46,"tag":86,"props":387,"children":389},{"className":388},[],[390],{"type":52,"value":104},{"type":52,"value":392}," is now a ",{"type":46,"tag":64,"props":394,"children":397},{"href":395,"rel":396},"https://vuejs.org/guide/extras/reactivity-in-depth.html",[68],[398],{"type":52,"value":399},"reactive variable",{"type":52,"value":401}," that we can work with within ",{"type":46,"tag":86,"props":403,"children":405},{"className":404},[],[406],{"type":52,"value":150},{"type":52,"value":106},{"type":46,"tag":161,"props":409,"children":412},{"className":410,"code":411,"language":166,"meta":6},[164],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n\u003C/script>\n",[413],{"type":46,"tag":86,"props":414,"children":415},{"__ignoreMap":6},[416],{"type":52,"value":411},{"type":46,"tag":74,"props":418,"children":420},{"id":419},"nuxt-3s-userouter",[421],{"type":52,"value":422},"Nuxt 3's useRouter()",{"type":46,"tag":54,"props":424,"children":425},{},[426],{"type":46,"tag":58,"props":427,"children":428},{},[429],{"type":52,"value":430},"I'm not sure what differences there are between Nuxt 2 and Nuxt 3, but so far there haven't been any.",{"type":46,"tag":58,"props":432,"children":433},{},[434,436,441,443,449,451,457],{"type":52,"value":435},"Within ",{"type":46,"tag":86,"props":437,"children":439},{"className":438},[],[440],{"type":52,"value":150},{"type":52,"value":442},", call the auto-imported functions ",{"type":46,"tag":86,"props":444,"children":446},{"className":445},[],[447],{"type":52,"value":448},"useRouter()",{"type":52,"value":450}," to gain access to the ",{"type":46,"tag":86,"props":452,"children":454},{"className":453},[],[455],{"type":52,"value":456},"router",{"type":52,"value":458}," object.",{"type":46,"tag":161,"props":460,"children":463},{"className":461,"code":462,"language":166,"meta":6},[164],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n\u003C/script>\n",[464],{"type":46,"tag":86,"props":465,"children":466},{"__ignoreMap":6},[467],{"type":52,"value":462},{"type":46,"tag":74,"props":469,"children":471},{"id":470},"connecting-v-model-input-to-our-url",[472],{"type":52,"value":473},"Connecting v-model input to our URL",{"type":46,"tag":58,"props":475,"children":476},{},[477,479,484],{"type":52,"value":478},"Now, set up a watcher to watch our ",{"type":46,"tag":86,"props":480,"children":482},{"className":481},[],[483],{"type":52,"value":104},{"type":52,"value":485}," v-model value so that every time it's value is updated, a bit of code is ran.",{"type":46,"tag":161,"props":487,"children":490},{"className":488,"code":489,"language":166,"meta":6},[164],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n",[491],{"type":46,"tag":86,"props":492,"children":493},{"__ignoreMap":6},[494],{"type":52,"value":489},{"type":46,"tag":58,"props":496,"children":497},{},[498,500,506],{"type":52,"value":499},"Every time the twitchStreamer value is changed, we push to our URL using ",{"type":46,"tag":64,"props":501,"children":504},{"href":502,"rel":503},"https://router.vuejs.org/guide/essentials/navigation.html",[68],[505],{"type":52,"value":124},{"type":52,"value":507}," with the updated query.",{"type":46,"tag":58,"props":509,"children":510},{},[511,513,519,521,527],{"type":52,"value":512},"The query parameter of ",{"type":46,"tag":86,"props":514,"children":516},{"className":515},[],[517],{"type":52,"value":518},".push",{"type":52,"value":520}," takes in a key and value. The key in this example is ",{"type":46,"tag":86,"props":522,"children":524},{"className":523},[],[525],{"type":52,"value":526},"streamer",{"type":52,"value":106},{"type":46,"tag":58,"props":529,"children":530},{},[531,533,539,540,545],{"type":52,"value":532},"Because of this, the url that is updated will look like ",{"type":46,"tag":86,"props":534,"children":536},{"className":535},[],[537],{"type":52,"value":538},"/test?streamer=",{"type":52,"value":228},{"type":46,"tag":86,"props":541,"children":543},{"className":542},[],[544],{"type":52,"value":104},{"type":52,"value":546}," value beind after the = sign.",{"type":46,"tag":74,"props":548,"children":550},{"id":549},"what-about-when-you-refresh-or-navigate",[551],{"type":52,"value":552},"What about when you refresh or navigate?",{"type":46,"tag":58,"props":554,"children":555},{},[556,558,564],{"type":52,"value":557},"There's a bit more to this topic but I decided to write a separate article ",{"type":46,"tag":64,"props":559,"children":561},{"href":38,"rel":560},[68],[562],{"type":52,"value":563},"here",{"type":52,"value":565},". Be sure to check if out if you are interested in how to deal with the query param on page refresh or direct navigation.",{"type":46,"tag":74,"props":567,"children":568},{"id":279},[569],{"type":52,"value":282},{"type":46,"tag":161,"props":571,"children":574},{"className":572,"code":573,"language":288,"meta":6},[286],"\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n",[575],{"type":46,"tag":86,"props":576,"children":577},{"__ignoreMap":6},[578],{"type":52,"value":573},{"type":46,"tag":58,"props":580,"children":581},{},[582],{"type":46,"tag":583,"props":584,"children":586},"img",{"alt":308,"src":585},"https://codybontecou.com/images/update-url.gif",[],{"title":6,"searchDepth":295,"depth":295,"links":588},[589,590,591,592,593],{"id":349,"depth":295,"text":352},{"id":419,"depth":295,"text":422},{"id":470,"depth":295,"text":473},{"id":549,"depth":295,"text":552},{"id":279,"depth":295,"text":282},"content:silently-update-url-nuxt-3.md","silently-update-url-nuxt-3.md","silently-update-url-nuxt-3",1731110935797]