[{"data":1,"prerenderedAt":624},["ShallowReactive",2],{"post-/topics/typescript":3},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":9,"author":10,"date":13,"dropdown":14,"meta":15,"type":30,"canonicalUrl":31,"topics":32,"body":36,"_type":618,"_id":619,"_source":620,"_file":621,"_stem":622,"_extension":623},"/post-to-reddit-with-nodejs-and-typescript","",false,"Post to Reddit using its API","Interacting with Reddit through their API. In this post I discuss how to use snoowrap to post to Reddit and specific subreddits.",{"name":11,"image":12},"Cody Bontecou","https://codybontecou.com/images/cody-abstract.jpeg","2020-07-18T00:00:00.000Z","NodeJS",[16,18,20,23,26,28],{"name":17,"content":8},"og:title",{"name":19,"content":9},"og:description",{"name":21,"content":22},"og:image","https://codybontecou.com/images/typescript-with-reddit-meta.png",{"name":24,"content":25},"og:image:alt","Illustration of a man with a baret waving his hands with Reddit and Typescript logos above him",{"name":27,"content":8},"twitter:title",{"name":29,"content":8},"twitter:text:title","post","https://codybontecou.com/post-to-reddit-with-nodejs-and-typescript",[33,34,35],"nodejs","typescript","reddit",{"type":37,"children":38,"toc":608},"root",[39,48,77,84,89,110,131,140,146,158,175,192,214,226,233,286,292,313,325,336,349,359,365,379,388,397,406,432,441,448,457,469,478,505,524,533,538,547,559,572,578,583,592,596],{"type":40,"tag":41,"props":42,"children":44},"element","h1",{"id":43},"create-reddit-posts-with-nodejs-and-typescript",[45],{"type":46,"value":47},"text","Create Reddit Posts with NodeJS and Typescript",{"type":40,"tag":49,"props":50,"children":51},"blockquote",{},[52],{"type":40,"tag":53,"props":54,"children":55},"p",{},[56,58,64,66,75],{"type":46,"value":57},"This post is for ",{"type":40,"tag":59,"props":60,"children":61},"strong",{},[62],{"type":46,"value":63},"day 2",{"type":46,"value":65}," of my ",{"type":40,"tag":67,"props":68,"children":72},"a",{"href":69,"rel":70},"https://twitter.com/hashtag/100DaysOfCode?src=hashtag_click",[71],"nofollow",[73],{"type":46,"value":74},"#100DaysOfCode",{"type":46,"value":76},". In this post I'll be discussing how to programmatically post to Reddit using NodeJS and Typescript.",{"type":40,"tag":78,"props":79,"children":81},"h2",{"id":80},"getting-authenticated",[82],{"type":46,"value":83},"Getting Authenticated",{"type":40,"tag":53,"props":85,"children":86},{},[87],{"type":46,"value":88},"Getting an authentication token for Reddit is complicated.",{"type":40,"tag":53,"props":90,"children":91},{},[92,94,99,101,108],{"type":46,"value":93},"If you have a ",{"type":40,"tag":59,"props":95,"children":96},{},[97],{"type":46,"value":98},"business",{"type":46,"value":100}," and plan on this token generating income, follow ",{"type":40,"tag":67,"props":102,"children":105},{"href":103,"rel":104},"https://docs.google.com/forms/d/e/1FAIpQLSezNdDNK1-P8mspSbmtC2r86Ee9ZRbC66u929cG2GX0T9UMyw/viewform",[71],[106],{"type":46,"value":107},"this form",{"type":46,"value":109},".",{"type":40,"tag":53,"props":111,"children":112},{},[113,115,120,122,129],{"type":46,"value":114},"For ",{"type":40,"tag":59,"props":116,"children":117},{},[118],{"type":46,"value":119},"personal",{"type":46,"value":121}," use, navigate to your Reddit ",{"type":40,"tag":67,"props":123,"children":126},{"href":124,"rel":125},"https://www.reddit.com/prefs/apps",[71],[127],{"type":46,"value":128},"apps",{"type":46,"value":130}," and scroll to the bottom of the page. You should see a grey button that says \"create another app...\". Click the button and fill out the form. Successfully submitting this form should generate",{"type":40,"tag":53,"props":132,"children":133},{},[134],{"type":40,"tag":135,"props":136,"children":139},"img",{"alt":137,"src":138},"Reddit developer application information. Includes your client ID and client Secret needed for API calls","https://codybontecou.com/images/reddit-developer-app-info.png",[],{"type":40,"tag":78,"props":141,"children":143},{"id":142},"laying-the-foundations-of-your-app",[144],{"type":46,"value":145},"Laying the Foundations of Your App",{"type":40,"tag":53,"props":147,"children":148},{},[149,156],{"type":40,"tag":67,"props":150,"children":153},{"href":151,"rel":152},"https://github.com/CodyBontecou/post-to-reddit-with-typescript",[71],[154],{"type":46,"value":155},"Github Repo",{"type":46,"value":157}," to follow along",{"type":40,"tag":53,"props":159,"children":160},{},[161],{"type":40,"tag":162,"props":163,"children":164},"em",{},[165,167,173],{"type":46,"value":166},"Make sure you have ",{"type":40,"tag":67,"props":168,"children":171},{"href":169,"rel":170},"https://nodejs.org/en/",[71],[172],{"type":46,"value":14},{"type":46,"value":174}," installed",{"type":40,"tag":53,"props":176,"children":177},{},[178],{"type":40,"tag":162,"props":179,"children":180},{},[181,183,190],{"type":46,"value":182},"I prefer ",{"type":40,"tag":67,"props":184,"children":187},{"href":185,"rel":186},"https://yarnpkg.com/",[71],[188],{"type":46,"value":189},"yarn",{"type":46,"value":191},", but you can use npm instead if you prefer",{"type":40,"tag":53,"props":193,"children":194},{},[195,197,204,206,212],{"type":46,"value":196},"Copy this ",{"type":40,"tag":198,"props":199,"children":201},"code",{"className":200},[],[202],{"type":46,"value":203},"package.json",{"type":46,"value":205}," file and run ",{"type":40,"tag":198,"props":207,"children":209},{"className":208},[],[210],{"type":46,"value":211},"yarn install",{"type":46,"value":213}," to install the dependencies.",{"type":40,"tag":215,"props":216,"children":221},"pre",{"className":217,"code":219,"language":220,"meta":6},[218],"language-json","{\n  \"name\": \"reddit-post\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"dev\": \"ts-node index.ts\"\n  },\n  \"devDependencies\": {\n    \"ts-node\": \"^10.1.0\",\n    \"typescript\": \"^4.3.5\"\n  },\n  \"dependencies\": {\n    \"dotenv\": \"^10.0.0\",\n    \"snoowrap\": \"^1.23.0\"\n  }\n}\n","json",[222],{"type":40,"tag":198,"props":223,"children":224},{"__ignoreMap":6},[225],{"type":46,"value":219},{"type":40,"tag":227,"props":228,"children":230},"h3",{"id":229},"packages-explained",[231],{"type":46,"value":232},"Packages explained:",{"type":40,"tag":234,"props":235,"children":236},"ul",{},[237,250,262,274],{"type":40,"tag":238,"props":239,"children":240},"li",{},[241,248],{"type":40,"tag":67,"props":242,"children":245},{"href":243,"rel":244},"https://github.com/TypeStrong/ts-node",[71],[246],{"type":46,"value":247},"ts-node",{"type":46,"value":249}," is a handy tool for executing Typescript files without having to first compile to Javascript.",{"type":40,"tag":238,"props":251,"children":252},{},[253,260],{"type":40,"tag":67,"props":254,"children":257},{"href":255,"rel":256},"https://www.typescriptlang.org/",[71],[258],{"type":46,"value":259},"Typescript",{"type":46,"value":261}," superset of Javascript. I'm simply using it to try to become more comfortable with it in day-to-day projects.",{"type":40,"tag":238,"props":263,"children":264},{},[265,272],{"type":40,"tag":67,"props":266,"children":269},{"href":267,"rel":268},"https://github.com/motdotla/dotenv#readme",[71],[270],{"type":46,"value":271},"dotenv",{"type":46,"value":273}," to safely manage .env variables and your auth tokens.",{"type":40,"tag":238,"props":275,"children":276},{},[277,284],{"type":40,"tag":67,"props":278,"children":281},{"href":279,"rel":280},"https://github.com/not-an-aardvark/snoowrap",[71],[282],{"type":46,"value":283},"snoowrap",{"type":46,"value":285}," provides a simple interface to access every reddit API endpoint.",{"type":40,"tag":227,"props":287,"children":289},{"id":288},"create-a-env-file",[290],{"type":46,"value":291},"Create a .env file",{"type":40,"tag":53,"props":293,"children":294},{},[295,297,303,305,311],{"type":46,"value":296},".env files are used as a best practice to keep secret keys (such as our authentication tokens) off of GitHub. Make sure to have a ",{"type":40,"tag":198,"props":298,"children":300},{"className":299},[],[301],{"type":46,"value":302},".gitignore",{"type":46,"value":304}," file and add ",{"type":40,"tag":198,"props":306,"children":308},{"className":307},[],[309],{"type":46,"value":310},".env",{"type":46,"value":312}," to it.",{"type":40,"tag":53,"props":314,"children":315},{},[316,318,323],{"type":46,"value":317},"The ",{"type":40,"tag":198,"props":319,"children":321},{"className":320},[],[322],{"type":46,"value":310},{"type":46,"value":324}," file should look like this:",{"type":40,"tag":215,"props":326,"children":331},{"className":327,"code":329,"language":330,"meta":6},[328],"language-js","username = '\u003CREDDIT USERNAME>'\npassword = '\u003CREDDIT PASSWORD>'\nclientId = 'CLIENT_ID'\nclientSecret = 'CLIENT SECRET'\n","js",[332],{"type":40,"tag":198,"props":333,"children":334},{"__ignoreMap":6},[335],{"type":46,"value":329},{"type":40,"tag":53,"props":337,"children":338},{},[339,341,347],{"type":46,"value":340},"Just make sure you replace the ",{"type":40,"tag":198,"props":342,"children":344},{"className":343},[],[345],{"type":46,"value":346},"\u003C>",{"type":46,"value":348}," text with the tokens Twitter provided you.",{"type":40,"tag":53,"props":350,"children":351},{},[352,357],{"type":40,"tag":59,"props":353,"children":354},{},[355],{"type":46,"value":356},"Make sure you do not commit your .env file to Github or any other version control systems.",{"type":46,"value":358}," These tokens are very important, and should not be shared with anyone!",{"type":40,"tag":78,"props":360,"children":362},{"id":361},"performing-the-post-request",[363],{"type":46,"value":364},"Performing the POST request",{"type":40,"tag":366,"props":367,"children":368},"ol",{},[369,374],{"type":40,"tag":238,"props":370,"children":371},{},[372],{"type":46,"value":373},"Create an index.ts file in your project root",{"type":40,"tag":238,"props":375,"children":376},{},[377],{"type":46,"value":378},"Import the packages you installed earlier",{"type":40,"tag":215,"props":380,"children":383},{"className":381,"code":382,"language":330,"meta":6},[328],"const snoowrap = require('snoowrap')\nrequire('dotenv').config()\n",[384],{"type":40,"tag":198,"props":385,"children":386},{"__ignoreMap":6},[387],{"type":46,"value":382},{"type":40,"tag":366,"props":389,"children":391},{"start":390},3,[392],{"type":40,"tag":238,"props":393,"children":394},{},[395],{"type":46,"value":396},"Create config object to organize your Reddit configuration variables",{"type":40,"tag":215,"props":398,"children":401},{"className":399,"code":400,"language":330,"meta":6},[328],"const config = {\n  username: process.env.username,\n  password: process.env.password,\n  clientId: process.env.clientId,\n  clientSecret: process.env.clientSecret,\n}\n",[402],{"type":40,"tag":198,"props":403,"children":404},{"__ignoreMap":6},[405],{"type":46,"value":400},{"type":40,"tag":366,"props":407,"children":409},{"start":408},4,[410],{"type":40,"tag":238,"props":411,"children":412},{},[413,415,422,424,430],{"type":46,"value":414},"Create a function that sends out a POST request to ",{"type":40,"tag":67,"props":416,"children":419},{"href":417,"rel":418},"https://www.reddit.com/dev/api#POST_api_submit",[71],[420],{"type":46,"value":421},"Reddit's endpoint",{"type":46,"value":423}," ",{"type":40,"tag":198,"props":425,"children":427},{"className":426},[],[428],{"type":46,"value":429},"/api/submit",{"type":46,"value":431}," with the title, link, and subreddit parameters.",{"type":40,"tag":215,"props":433,"children":436},{"className":434,"code":435,"language":330,"meta":6},[328],"function postLink(title: string, link: string, subreddit: string) {\n  const r = new snoowrap({\n    userAgent: 'Whatever',\n    clientId: config.clientId,\n    clientSecret: config.clientSecret,\n    username: config.username,\n    password: config.password,\n  })\n  r.getSubreddit(subreddit).submitLink({\n    title: title,\n    url: link,\n    sendReplies: true,\n  })\n}\n",[437],{"type":40,"tag":198,"props":438,"children":439},{"__ignoreMap":6},[440],{"type":46,"value":435},{"type":40,"tag":442,"props":443,"children":445},"h4",{"id":444},"explained",[446],{"type":46,"value":447},"Explained:",{"type":40,"tag":215,"props":449,"children":452},{"className":450,"code":451,"language":330,"meta":6},[328],"const r = new snoowrap({\n  userAgent: 'Whatever',\n  clientId: config.clientId,\n  clientSecret: config.clientSecret,\n  username: config.username,\n  password: config.password,\n})\n",[453],{"type":40,"tag":198,"props":454,"children":455},{"__ignoreMap":6},[456],{"type":46,"value":451},{"type":40,"tag":53,"props":458,"children":459},{},[460,462,467],{"type":46,"value":461},"This snippet of code is creating a new ",{"type":40,"tag":198,"props":463,"children":465},{"className":464},[],[466],{"type":46,"value":283},{"type":46,"value":468}," instance that connects to the Reddit service.",{"type":40,"tag":215,"props":470,"children":473},{"className":471,"code":472,"language":330,"meta":6},[328],"r.getSubreddit(subreddit).submitLink({\n  title: title,\n  url: link,\n  sendReplies: true,\n})\n",[474],{"type":40,"tag":198,"props":475,"children":476},{"__ignoreMap":6},[477],{"type":46,"value":472},{"type":40,"tag":53,"props":479,"children":480},{},[481,487,489,495,497,504],{"type":40,"tag":198,"props":482,"children":484},{"className":483},[],[485],{"type":46,"value":486},"getSubreddit",{"type":46,"value":488},": Generates a ",{"type":40,"tag":198,"props":490,"children":492},{"className":491},[],[493],{"type":46,"value":494},"Subreddit",{"type":46,"value":496}," object. You can read more about this object ",{"type":40,"tag":67,"props":498,"children":501},{"href":499,"rel":500},"https://not-an-aardvark.github.io/snoowrap/Subreddit.html",[71],[502],{"type":46,"value":503},"here",{"type":46,"value":109},{"type":40,"tag":53,"props":506,"children":507},{},[508,514,516,522],{"type":40,"tag":198,"props":509,"children":511},{"className":510},[],[512],{"type":46,"value":513},"submitLink",{"type":46,"value":515},": Creates a new link submission on this subreddit with the title provided, url of the link, and any other options that the snoowrap api allows, such as the ",{"type":40,"tag":198,"props":517,"children":519},{"className":518},[],[520],{"type":46,"value":521},"sendReplies",{"type":46,"value":523}," option that allows replies to the post to send replies to the authenticated user's inbox.",{"type":40,"tag":366,"props":525,"children":527},{"start":526},5,[528],{"type":40,"tag":238,"props":529,"children":530},{},[531],{"type":46,"value":532},"Make the request",{"type":40,"tag":53,"props":534,"children":535},{},[536],{"type":46,"value":537},"Now add",{"type":40,"tag":215,"props":539,"children":542},{"className":540,"code":541,"language":330,"meta":6},[328],"postLink(\n  'Post to Reddit with NodeJS and Typescript',\n  'https://codybontecou.com/post-to-reddit-with-nodejs-and-typescript.html',\n  'webdev'\n)\n",[543],{"type":40,"tag":198,"props":544,"children":545},{"__ignoreMap":6},[546],{"type":46,"value":541},{"type":40,"tag":53,"props":548,"children":549},{},[550,552,558],{"type":46,"value":551},"with the parameters you want to use at the bottom of ",{"type":40,"tag":198,"props":553,"children":555},{"className":554},[],[556],{"type":46,"value":557},"index.ts",{"type":46,"value":109},{"type":40,"tag":53,"props":560,"children":561},{},[562,564,570],{"type":46,"value":563},"Once you are ready, type ",{"type":40,"tag":198,"props":565,"children":567},{"className":566},[],[568],{"type":46,"value":569},"yarn dev",{"type":46,"value":571}," into your projects terminal. If all is good, you should be able to see your post is now on Reddit!",{"type":40,"tag":78,"props":573,"children":575},{"id":574},"bonus",[576],{"type":46,"value":577},"Bonus",{"type":40,"tag":53,"props":579,"children":580},{},[581],{"type":46,"value":582},"Make this more dynamic by iterating over multiple subreddits within an array:",{"type":40,"tag":215,"props":584,"children":587},{"className":585,"code":586,"language":330,"meta":6},[328],"const url =\n  'https://codybontecou.com/post-to-reddit-with-nodejs-and-typescript.html'\nconst title = 'Post to Reddit using its API'\nconst subreddits = ['webdev', 'learnjavascript', 'typescript', 'programming']\n\nsubreddits.forEach(subreddit => postLink(title, url, subreddit))\n",[588],{"type":40,"tag":198,"props":589,"children":590},{"__ignoreMap":6},[591],{"type":46,"value":586},{"type":40,"tag":593,"props":594,"children":595},"hr",{},[],{"type":40,"tag":53,"props":597,"children":598},{},[599,601],{"type":46,"value":600},"I hope this article was helpful, let me know if you have any questions, comments, or suggestions on Twitter ",{"type":40,"tag":67,"props":602,"children":605},{"href":603,"rel":604},"https://twitter.com/CodyBontecou",[71],[606],{"type":46,"value":607},"@codybontecou",{"title":6,"searchDepth":609,"depth":609,"links":610},2,[611,612,616,617],{"id":80,"depth":609,"text":83},{"id":142,"depth":609,"text":145,"children":613},[614,615],{"id":229,"depth":390,"text":232},{"id":288,"depth":390,"text":291},{"id":361,"depth":609,"text":364},{"id":574,"depth":609,"text":577},"markdown","content:post-to-reddit-with-nodejs-and-typescript.md","content","post-to-reddit-with-nodejs-and-typescript.md","post-to-reddit-with-nodejs-and-typescript","md",1731183293735]