[{"data":1,"prerenderedAt":619},["ShallowReactive",2],{"post-/topics/typescript":3},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":9,"author":10,"date":13,"dropdown":14,"meta":15,"type":30,"canonicalUrl":31,"topics":32,"created_at":36,"last_modified":37,"body":38,"_type":613,"_id":614,"_source":615,"_file":616,"_stem":617,"_extension":618},"/post-to-reddit-with-nodejs-and-typescript","",false,"Post to Reddit using its API","Interacting with Reddit through their API. In this post I discuss how to use snoowrap to post to Reddit and specific subreddits.",{"name":11,"image":12},"Cody Bontecou","https://codybontecou.com/images/cody-abstract.jpeg","2020-07-18T00:00:00.000Z","NodeJS",[16,18,20,23,26,28],{"name":17,"content":8},"og:title",{"name":19,"content":9},"og:description",{"name":21,"content":22},"og:image","https://codybontecou.com/images/typescript-with-reddit-meta.png",{"name":24,"content":25},"og:image:alt","Illustration of a man with a baret waving his hands with Reddit and Typescript logos above him",{"name":27,"content":8},"twitter:title",{"name":29,"content":8},"twitter:text:title","post","https://codybontecou.com/post-to-reddit-with-nodejs-and-typescript",[33,34,35],"nodejs","typescript","reddit","2024-10-31T14:26","2024-11-09T21:19",{"type":39,"children":40,"toc":603},"root",[41,72,79,84,105,126,135,141,153,170,187,209,221,228,281,287,308,320,331,344,354,360,374,383,392,401,427,436,443,452,464,473,500,519,528,533,542,554,567,573,578,587,591],{"type":42,"tag":43,"props":44,"children":45},"element","blockquote",{},[46],{"type":42,"tag":47,"props":48,"children":49},"p",{},[50,53,59,61,70],{"type":51,"value":52},"text","This post is for ",{"type":42,"tag":54,"props":55,"children":56},"strong",{},[57],{"type":51,"value":58},"day 2",{"type":51,"value":60}," of my ",{"type":42,"tag":62,"props":63,"children":67},"a",{"href":64,"rel":65},"https://twitter.com/hashtag/100DaysOfCode?src=hashtag_click",[66],"nofollow",[68],{"type":51,"value":69},"#100DaysOfCode",{"type":51,"value":71},". In this post I'll be discussing how to programmatically post to Reddit using NodeJS and Typescript.",{"type":42,"tag":73,"props":74,"children":76},"h2",{"id":75},"getting-authenticated",[77],{"type":51,"value":78},"Getting Authenticated",{"type":42,"tag":47,"props":80,"children":81},{},[82],{"type":51,"value":83},"Getting an authentication token for Reddit is complicated.",{"type":42,"tag":47,"props":85,"children":86},{},[87,89,94,96,103],{"type":51,"value":88},"If you have a ",{"type":42,"tag":54,"props":90,"children":91},{},[92],{"type":51,"value":93},"business",{"type":51,"value":95}," and plan on this token generating income, follow ",{"type":42,"tag":62,"props":97,"children":100},{"href":98,"rel":99},"https://docs.google.com/forms/d/e/1FAIpQLSezNdDNK1-P8mspSbmtC2r86Ee9ZRbC66u929cG2GX0T9UMyw/viewform",[66],[101],{"type":51,"value":102},"this form",{"type":51,"value":104},".",{"type":42,"tag":47,"props":106,"children":107},{},[108,110,115,117,124],{"type":51,"value":109},"For ",{"type":42,"tag":54,"props":111,"children":112},{},[113],{"type":51,"value":114},"personal",{"type":51,"value":116}," use, navigate to your Reddit ",{"type":42,"tag":62,"props":118,"children":121},{"href":119,"rel":120},"https://www.reddit.com/prefs/apps",[66],[122],{"type":51,"value":123},"apps",{"type":51,"value":125}," and scroll to the bottom of the page. You should see a grey button that says \"create another app...\". Click the button and fill out the form. Successfully submitting this form should generate",{"type":42,"tag":47,"props":127,"children":128},{},[129],{"type":42,"tag":130,"props":131,"children":134},"img",{"alt":132,"src":133},"Reddit developer application information. Includes your client ID and client Secret needed for API calls","https://codybontecou.com/images/reddit-developer-app-info.png",[],{"type":42,"tag":73,"props":136,"children":138},{"id":137},"laying-the-foundations-of-your-app",[139],{"type":51,"value":140},"Laying the Foundations of Your App",{"type":42,"tag":47,"props":142,"children":143},{},[144,151],{"type":42,"tag":62,"props":145,"children":148},{"href":146,"rel":147},"https://github.com/CodyBontecou/post-to-reddit-with-typescript",[66],[149],{"type":51,"value":150},"Github Repo",{"type":51,"value":152}," to follow along",{"type":42,"tag":47,"props":154,"children":155},{},[156],{"type":42,"tag":157,"props":158,"children":159},"em",{},[160,162,168],{"type":51,"value":161},"Make sure you have ",{"type":42,"tag":62,"props":163,"children":166},{"href":164,"rel":165},"https://nodejs.org/en/",[66],[167],{"type":51,"value":14},{"type":51,"value":169}," installed",{"type":42,"tag":47,"props":171,"children":172},{},[173],{"type":42,"tag":157,"props":174,"children":175},{},[176,178,185],{"type":51,"value":177},"I prefer ",{"type":42,"tag":62,"props":179,"children":182},{"href":180,"rel":181},"https://yarnpkg.com/",[66],[183],{"type":51,"value":184},"yarn",{"type":51,"value":186},", but you can use npm instead if you prefer",{"type":42,"tag":47,"props":188,"children":189},{},[190,192,199,201,207],{"type":51,"value":191},"Copy this ",{"type":42,"tag":193,"props":194,"children":196},"code",{"className":195},[],[197],{"type":51,"value":198},"package.json",{"type":51,"value":200}," file and run ",{"type":42,"tag":193,"props":202,"children":204},{"className":203},[],[205],{"type":51,"value":206},"yarn install",{"type":51,"value":208}," to install the dependencies.",{"type":42,"tag":210,"props":211,"children":216},"pre",{"className":212,"code":214,"language":215,"meta":6},[213],"language-json","{\n  \"name\": \"reddit-post\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"dev\": \"ts-node index.ts\"\n  },\n  \"devDependencies\": {\n    \"ts-node\": \"^10.1.0\",\n    \"typescript\": \"^4.3.5\"\n  },\n  \"dependencies\": {\n    \"dotenv\": \"^10.0.0\",\n    \"snoowrap\": \"^1.23.0\"\n  }\n}\n","json",[217],{"type":42,"tag":193,"props":218,"children":219},{"__ignoreMap":6},[220],{"type":51,"value":214},{"type":42,"tag":222,"props":223,"children":225},"h3",{"id":224},"packages-explained",[226],{"type":51,"value":227},"Packages explained:",{"type":42,"tag":229,"props":230,"children":231},"ul",{},[232,245,257,269],{"type":42,"tag":233,"props":234,"children":235},"li",{},[236,243],{"type":42,"tag":62,"props":237,"children":240},{"href":238,"rel":239},"https://github.com/TypeStrong/ts-node",[66],[241],{"type":51,"value":242},"ts-node",{"type":51,"value":244}," is a handy tool for executing Typescript files without having to first compile to Javascript.",{"type":42,"tag":233,"props":246,"children":247},{},[248,255],{"type":42,"tag":62,"props":249,"children":252},{"href":250,"rel":251},"https://www.typescriptlang.org/",[66],[253],{"type":51,"value":254},"Typescript",{"type":51,"value":256}," superset of Javascript. I'm simply using it to try to become more comfortable with it in day-to-day projects.",{"type":42,"tag":233,"props":258,"children":259},{},[260,267],{"type":42,"tag":62,"props":261,"children":264},{"href":262,"rel":263},"https://github.com/motdotla/dotenv#readme",[66],[265],{"type":51,"value":266},"dotenv",{"type":51,"value":268}," to safely manage .env variables and your auth tokens.",{"type":42,"tag":233,"props":270,"children":271},{},[272,279],{"type":42,"tag":62,"props":273,"children":276},{"href":274,"rel":275},"https://github.com/not-an-aardvark/snoowrap",[66],[277],{"type":51,"value":278},"snoowrap",{"type":51,"value":280}," provides a simple interface to access every reddit API endpoint.",{"type":42,"tag":222,"props":282,"children":284},{"id":283},"create-a-env-file",[285],{"type":51,"value":286},"Create a .env file",{"type":42,"tag":47,"props":288,"children":289},{},[290,292,298,300,306],{"type":51,"value":291},".env files are used as a best practice to keep secret keys (such as our authentication tokens) off of GitHub. Make sure to have a ",{"type":42,"tag":193,"props":293,"children":295},{"className":294},[],[296],{"type":51,"value":297},".gitignore",{"type":51,"value":299}," file and add ",{"type":42,"tag":193,"props":301,"children":303},{"className":302},[],[304],{"type":51,"value":305},".env",{"type":51,"value":307}," to it.",{"type":42,"tag":47,"props":309,"children":310},{},[311,313,318],{"type":51,"value":312},"The ",{"type":42,"tag":193,"props":314,"children":316},{"className":315},[],[317],{"type":51,"value":305},{"type":51,"value":319}," file should look like this:",{"type":42,"tag":210,"props":321,"children":326},{"className":322,"code":324,"language":325,"meta":6},[323],"language-js","username = '\u003CREDDIT USERNAME>'\npassword = '\u003CREDDIT PASSWORD>'\nclientId = 'CLIENT_ID'\nclientSecret = 'CLIENT SECRET'\n","js",[327],{"type":42,"tag":193,"props":328,"children":329},{"__ignoreMap":6},[330],{"type":51,"value":324},{"type":42,"tag":47,"props":332,"children":333},{},[334,336,342],{"type":51,"value":335},"Just make sure you replace the ",{"type":42,"tag":193,"props":337,"children":339},{"className":338},[],[340],{"type":51,"value":341},"\u003C>",{"type":51,"value":343}," text with the tokens Twitter provided you.",{"type":42,"tag":47,"props":345,"children":346},{},[347,352],{"type":42,"tag":54,"props":348,"children":349},{},[350],{"type":51,"value":351},"Make sure you do not commit your .env file to Github or any other version control systems.",{"type":51,"value":353}," These tokens are very important, and should not be shared with anyone!",{"type":42,"tag":73,"props":355,"children":357},{"id":356},"performing-the-post-request",[358],{"type":51,"value":359},"Performing the POST request",{"type":42,"tag":361,"props":362,"children":363},"ol",{},[364,369],{"type":42,"tag":233,"props":365,"children":366},{},[367],{"type":51,"value":368},"Create an index.ts file in your project root",{"type":42,"tag":233,"props":370,"children":371},{},[372],{"type":51,"value":373},"Import the packages you installed earlier",{"type":42,"tag":210,"props":375,"children":378},{"className":376,"code":377,"language":325,"meta":6},[323],"const snoowrap = require('snoowrap')\nrequire('dotenv').config()\n",[379],{"type":42,"tag":193,"props":380,"children":381},{"__ignoreMap":6},[382],{"type":51,"value":377},{"type":42,"tag":361,"props":384,"children":386},{"start":385},3,[387],{"type":42,"tag":233,"props":388,"children":389},{},[390],{"type":51,"value":391},"Create config object to organize your Reddit configuration variables",{"type":42,"tag":210,"props":393,"children":396},{"className":394,"code":395,"language":325,"meta":6},[323],"const config = {\n  username: process.env.username,\n  password: process.env.password,\n  clientId: process.env.clientId,\n  clientSecret: process.env.clientSecret,\n}\n",[397],{"type":42,"tag":193,"props":398,"children":399},{"__ignoreMap":6},[400],{"type":51,"value":395},{"type":42,"tag":361,"props":402,"children":404},{"start":403},4,[405],{"type":42,"tag":233,"props":406,"children":407},{},[408,410,417,419,425],{"type":51,"value":409},"Create a function that sends out a POST request to ",{"type":42,"tag":62,"props":411,"children":414},{"href":412,"rel":413},"https://www.reddit.com/dev/api#POST_api_submit",[66],[415],{"type":51,"value":416},"Reddit's endpoint",{"type":51,"value":418}," ",{"type":42,"tag":193,"props":420,"children":422},{"className":421},[],[423],{"type":51,"value":424},"/api/submit",{"type":51,"value":426}," with the title, link, and subreddit parameters.",{"type":42,"tag":210,"props":428,"children":431},{"className":429,"code":430,"language":325,"meta":6},[323],"function postLink(title: string, link: string, subreddit: string) {\n  const r = new snoowrap({\n    userAgent: 'Whatever',\n    clientId: config.clientId,\n    clientSecret: config.clientSecret,\n    username: config.username,\n    password: config.password,\n  })\n  r.getSubreddit(subreddit).submitLink({\n    title: title,\n    url: link,\n    sendReplies: true,\n  })\n}\n",[432],{"type":42,"tag":193,"props":433,"children":434},{"__ignoreMap":6},[435],{"type":51,"value":430},{"type":42,"tag":437,"props":438,"children":440},"h4",{"id":439},"explained",[441],{"type":51,"value":442},"Explained:",{"type":42,"tag":210,"props":444,"children":447},{"className":445,"code":446,"language":325,"meta":6},[323],"const r = new snoowrap({\n  userAgent: 'Whatever',\n  clientId: config.clientId,\n  clientSecret: config.clientSecret,\n  username: config.username,\n  password: config.password,\n})\n",[448],{"type":42,"tag":193,"props":449,"children":450},{"__ignoreMap":6},[451],{"type":51,"value":446},{"type":42,"tag":47,"props":453,"children":454},{},[455,457,462],{"type":51,"value":456},"This snippet of code is creating a new ",{"type":42,"tag":193,"props":458,"children":460},{"className":459},[],[461],{"type":51,"value":278},{"type":51,"value":463}," instance that connects to the Reddit service.",{"type":42,"tag":210,"props":465,"children":468},{"className":466,"code":467,"language":325,"meta":6},[323],"r.getSubreddit(subreddit).submitLink({\n  title: title,\n  url: link,\n  sendReplies: true,\n})\n",[469],{"type":42,"tag":193,"props":470,"children":471},{"__ignoreMap":6},[472],{"type":51,"value":467},{"type":42,"tag":47,"props":474,"children":475},{},[476,482,484,490,492,499],{"type":42,"tag":193,"props":477,"children":479},{"className":478},[],[480],{"type":51,"value":481},"getSubreddit",{"type":51,"value":483},": Generates a ",{"type":42,"tag":193,"props":485,"children":487},{"className":486},[],[488],{"type":51,"value":489},"Subreddit",{"type":51,"value":491}," object. You can read more about this object ",{"type":42,"tag":62,"props":493,"children":496},{"href":494,"rel":495},"https://not-an-aardvark.github.io/snoowrap/Subreddit.html",[66],[497],{"type":51,"value":498},"here",{"type":51,"value":104},{"type":42,"tag":47,"props":501,"children":502},{},[503,509,511,517],{"type":42,"tag":193,"props":504,"children":506},{"className":505},[],[507],{"type":51,"value":508},"submitLink",{"type":51,"value":510},": Creates a new link submission on this subreddit with the title provided, url of the link, and any other options that the snoowrap api allows, such as the ",{"type":42,"tag":193,"props":512,"children":514},{"className":513},[],[515],{"type":51,"value":516},"sendReplies",{"type":51,"value":518}," option that allows replies to the post to send replies to the authenticated user's inbox.",{"type":42,"tag":361,"props":520,"children":522},{"start":521},5,[523],{"type":42,"tag":233,"props":524,"children":525},{},[526],{"type":51,"value":527},"Make the request",{"type":42,"tag":47,"props":529,"children":530},{},[531],{"type":51,"value":532},"Now add",{"type":42,"tag":210,"props":534,"children":537},{"className":535,"code":536,"language":325,"meta":6},[323],"postLink(\n  'Post to Reddit with NodeJS and Typescript',\n  'https://codybontecou.com/post-to-reddit-with-nodejs-and-typescript.html',\n  'webdev'\n)\n",[538],{"type":42,"tag":193,"props":539,"children":540},{"__ignoreMap":6},[541],{"type":51,"value":536},{"type":42,"tag":47,"props":543,"children":544},{},[545,547,553],{"type":51,"value":546},"with the parameters you want to use at the bottom of ",{"type":42,"tag":193,"props":548,"children":550},{"className":549},[],[551],{"type":51,"value":552},"index.ts",{"type":51,"value":104},{"type":42,"tag":47,"props":555,"children":556},{},[557,559,565],{"type":51,"value":558},"Once you are ready, type ",{"type":42,"tag":193,"props":560,"children":562},{"className":561},[],[563],{"type":51,"value":564},"yarn dev",{"type":51,"value":566}," into your projects terminal. If all is good, you should be able to see your post is now on Reddit!",{"type":42,"tag":73,"props":568,"children":570},{"id":569},"bonus",[571],{"type":51,"value":572},"Bonus",{"type":42,"tag":47,"props":574,"children":575},{},[576],{"type":51,"value":577},"Make this more dynamic by iterating over multiple subreddits within an array:",{"type":42,"tag":210,"props":579,"children":582},{"className":580,"code":581,"language":325,"meta":6},[323],"const url =\n  'https://codybontecou.com/post-to-reddit-with-nodejs-and-typescript.html'\nconst title = 'Post to Reddit using its API'\nconst subreddits = ['webdev', 'learnjavascript', 'typescript', 'programming']\n\nsubreddits.forEach(subreddit => postLink(title, url, subreddit))\n",[583],{"type":42,"tag":193,"props":584,"children":585},{"__ignoreMap":6},[586],{"type":51,"value":581},{"type":42,"tag":588,"props":589,"children":590},"hr",{},[],{"type":42,"tag":47,"props":592,"children":593},{},[594,596],{"type":51,"value":595},"I hope this article was helpful, let me know if you have any questions, comments, or suggestions on Twitter ",{"type":42,"tag":62,"props":597,"children":600},{"href":598,"rel":599},"https://twitter.com/CodyBontecou",[66],[601],{"type":51,"value":602},"@codybontecou",{"title":6,"searchDepth":604,"depth":604,"links":605},2,[606,607,611,612],{"id":75,"depth":604,"text":78},{"id":137,"depth":604,"text":140,"children":608},[609,610],{"id":224,"depth":385,"text":227},{"id":283,"depth":385,"text":286},{"id":356,"depth":604,"text":359},{"id":569,"depth":604,"text":572},"markdown","content:post-to-reddit-with-nodejs-and-typescript.md","content","post-to-reddit-with-nodejs-and-typescript.md","post-to-reddit-with-nodejs-and-typescript","md",1731526608207]