[{"data":1,"prerenderedAt":1674},["ShallowReactive",2],{"post-/topics/mswjs":3},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":9,"type":10,"author":11,"date":14,"category":15,"dropdown":16,"tags":17,"meta":21,"canonicalUrl":36,"topics":37,"body":40,"_type":1668,"_id":1669,"_source":1670,"_file":1671,"_stem":1672,"_extension":1673},"/mocking-api-with-msw-and-typescript","",false,"Mocking an API request with Mock Service Worker and Typescript","Use mswjs - Mock Service Worker - to mock an API request to Medium's API within a Typescript project.","post",{"name":12,"image":13},"Cody Bontecou","https://codybontecou.com/images/cody-abstract.jpeg","2020-07-25T00:00:00.000Z","tutorials","NodeJS",[18,19,20,18],"mswjs","Code","Automated Testing",[22,24,26,29,32,34],{"name":23,"content":8},"og:title",{"name":25,"content":9},"og:description",{"name":27,"content":28},"og:image","https://codybontecou.com/images/MSW-Meta.png",{"name":30,"content":31},"og:image:alt","Illustration of a man with a baret waving his hands with Reddit and Typescript logos above him",{"name":33,"content":8},"twitter:title",{"name":35,"content":8},"twitter:text:title","https://codybontecou.com/mocking-api-with-msw-and-typescript.html",[18,38,39],"testing","mocking",{"type":41,"children":42,"toc":1658},"root",[43,51,61,77,82,87,99,106,120,134,140,152,166,171,551,556,1026,1075,1081,1095,1106,1119,1184,1190,1195,1207,1212,1217,1396,1401,1413,1474,1480,1485,1537,1547,1567,1620,1626,1631,1636,1640,1652],{"type":44,"tag":45,"props":46,"children":48},"element","h1",{"id":47},"mocking-an-api-request-with-mock-service-worker-and-typescript",[49],{"type":50,"value":8},"text",{"type":44,"tag":52,"props":53,"children":54},"blockquote",{},[55],{"type":44,"tag":56,"props":57,"children":58},"p",{},[59],{"type":50,"value":60},"Testing software is essential to the development cycle of building applications. A strong test suite gives the developer(s) a sense of freedom to organize and refactor the codebase as needed without fear of unknowingly breaking something.",{"type":44,"tag":56,"props":62,"children":63},{},[64,66,75],{"type":50,"value":65},"I'm using ",{"type":44,"tag":67,"props":68,"children":72},"a",{"href":69,"rel":70},"https://github.com/CodyBontecou/blogflow.io/",[71],"nofollow",[73],{"type":50,"value":74},"Blogflow.io",{"type":50,"value":76}," as a means to learn Typescript while simultaneously building a tool to help automate distributing blog posts throughout the web.",{"type":44,"tag":56,"props":78,"children":79},{},[80],{"type":50,"value":81},"A large portion of this application requires integrating 3rd party APIs to communicate with services such as Medium, Hashnode, Reddit, etc.",{"type":44,"tag":56,"props":83,"children":84},{},[85],{"type":50,"value":86},"It's tough to test against 3rd party APIs. We don't want to hit their endpoints every time we run our test suite. Instead, we choose to mock the response, making the assumption that given specific inputs, they API will output a specific response.",{"type":44,"tag":56,"props":88,"children":89},{},[90,97],{"type":44,"tag":67,"props":91,"children":94},{"href":92,"rel":93},"https://mswjs.io/",[71],[95],{"type":50,"value":96},"Mock Service Worker (MSW)",{"type":50,"value":98}," provides a simple way to intercept these API calls so that our tests aren't hitting 3rd party endpoints and interacting with live data.",{"type":44,"tag":100,"props":101,"children":103},"h2",{"id":102},"setup-and-installation",[104],{"type":50,"value":105},"Setup and Installation",{"type":44,"tag":56,"props":107,"children":108},{},[109,111,118],{"type":50,"value":110},"I was going to walk you through setting MSW up but they provide such clear ",{"type":44,"tag":67,"props":112,"children":115},{"href":113,"rel":114},"https://mswjs.io/docs/getting-started/install",[71],[116],{"type":50,"value":117},"documentation",{"type":50,"value":119}," that I think doing anything besides linking you to them would be an injustice.",{"type":44,"tag":56,"props":121,"children":122},{},[123,125,132],{"type":50,"value":124},"You're welcome to view my ",{"type":44,"tag":67,"props":126,"children":129},{"href":127,"rel":128},"https://github.com/CodyBontecou/blogflow.io",[71],[130],{"type":50,"value":131},"repo",{"type":50,"value":133}," if you would like to see how I set it up in my project alongside packages like dotenv and Typescript.",{"type":44,"tag":100,"props":135,"children":137},{"id":136},"mocking-mediums-api",[138],{"type":50,"value":139},"Mocking Medium's API",{"type":44,"tag":56,"props":141,"children":142},{},[143,145,150],{"type":50,"value":144},"Everything below assumes you followed the ",{"type":44,"tag":67,"props":146,"children":148},{"href":147},"#installation",[149],{"type":50,"value":105},{"type":50,"value":151}," or have an understanding of MSW.",{"type":44,"tag":56,"props":153,"children":154},{},[155,157,164],{"type":50,"value":156},"In order to mock Medium's Create a Post request, I checked their API ",{"type":44,"tag":67,"props":158,"children":161},{"href":159,"rel":160},"https://github.com/Medium/medium-api-docs#32-publications",[71],[162],{"type":50,"value":163},"here",{"type":50,"value":165},".",{"type":44,"tag":56,"props":167,"children":168},{},[169],{"type":50,"value":170},"They provide an example response:",{"type":44,"tag":172,"props":173,"children":177},"pre",{"className":174,"code":175,"language":176,"meta":6,"style":6},"language-js shiki shiki-themes github-light","HTTP/1.1 201 OK\nContent-Type: application/json; charset=utf-8\n\n{\n  \"data\": {\n    \"id\": \"e6f36a\",\n    \"title\": \"Liverpool FC\",\n    \"authorId\": \"5303d74c64f66366f00cb9b2a94f3251bf5\",\n    \"tags\": [\"football\", \"sport\", \"Liverpool\"],\n    \"url\": \"https://medium.com/@majelbstoat/liverpool-fc-e6f36a\",\n    \"canonicalUrl\": \"http://jamietalbot.com/posts/liverpool-fc\",\n    \"publishStatus\": \"public\",\n    \"publishedAt\": 1442286338435,\n    \"license\": \"all-rights-reserved\",\n    \"licenseUrl\": \"https://medium.com/policy/9db0094a1e0f\"\n  }\n","js",[178],{"type":44,"tag":179,"props":180,"children":181},"code",{"__ignoreMap":6},[182,215,269,279,288,303,327,349,371,414,436,458,480,502,524,542],{"type":44,"tag":183,"props":184,"children":187},"span",{"class":185,"line":186},"line",1,[188,194,200,205,210],{"type":44,"tag":183,"props":189,"children":191},{"style":190},"--shiki-default:#005CC5",[192],{"type":50,"value":193},"HTTP",{"type":44,"tag":183,"props":195,"children":197},{"style":196},"--shiki-default:#D73A49",[198],{"type":50,"value":199},"/",{"type":44,"tag":183,"props":201,"children":202},{"style":190},[203],{"type":50,"value":204},"1.1",{"type":44,"tag":183,"props":206,"children":207},{"style":190},[208],{"type":50,"value":209}," 201",{"type":44,"tag":183,"props":211,"children":212},{"style":190},[213],{"type":50,"value":214}," OK\n",{"type":44,"tag":183,"props":216,"children":218},{"class":185,"line":217},2,[219,225,230,236,241,245,250,255,260,264],{"type":44,"tag":183,"props":220,"children":222},{"style":221},"--shiki-default:#24292E",[223],{"type":50,"value":224},"Content",{"type":44,"tag":183,"props":226,"children":227},{"style":196},[228],{"type":50,"value":229},"-",{"type":44,"tag":183,"props":231,"children":233},{"style":232},"--shiki-default:#6F42C1",[234],{"type":50,"value":235},"Type",{"type":44,"tag":183,"props":237,"children":238},{"style":221},[239],{"type":50,"value":240},": application",{"type":44,"tag":183,"props":242,"children":243},{"style":196},[244],{"type":50,"value":199},{"type":44,"tag":183,"props":246,"children":247},{"style":221},[248],{"type":50,"value":249},"json; charset",{"type":44,"tag":183,"props":251,"children":252},{"style":196},[253],{"type":50,"value":254},"=",{"type":44,"tag":183,"props":256,"children":257},{"style":221},[258],{"type":50,"value":259},"utf",{"type":44,"tag":183,"props":261,"children":262},{"style":196},[263],{"type":50,"value":229},{"type":44,"tag":183,"props":265,"children":266},{"style":190},[267],{"type":50,"value":268},"8\n",{"type":44,"tag":183,"props":270,"children":272},{"class":185,"line":271},3,[273],{"type":44,"tag":183,"props":274,"children":276},{"emptyLinePlaceholder":275},true,[277],{"type":50,"value":278},"\n",{"type":44,"tag":183,"props":280,"children":282},{"class":185,"line":281},4,[283],{"type":44,"tag":183,"props":284,"children":285},{"style":221},[286],{"type":50,"value":287},"{\n",{"type":44,"tag":183,"props":289,"children":291},{"class":185,"line":290},5,[292,298],{"type":44,"tag":183,"props":293,"children":295},{"style":294},"--shiki-default:#032F62",[296],{"type":50,"value":297},"  \"data\"",{"type":44,"tag":183,"props":299,"children":300},{"style":221},[301],{"type":50,"value":302},": {\n",{"type":44,"tag":183,"props":304,"children":306},{"class":185,"line":305},6,[307,312,317,322],{"type":44,"tag":183,"props":308,"children":309},{"style":294},[310],{"type":50,"value":311},"    \"id\"",{"type":44,"tag":183,"props":313,"children":314},{"style":221},[315],{"type":50,"value":316},": ",{"type":44,"tag":183,"props":318,"children":319},{"style":294},[320],{"type":50,"value":321},"\"e6f36a\"",{"type":44,"tag":183,"props":323,"children":324},{"style":221},[325],{"type":50,"value":326},",\n",{"type":44,"tag":183,"props":328,"children":330},{"class":185,"line":329},7,[331,336,340,345],{"type":44,"tag":183,"props":332,"children":333},{"style":294},[334],{"type":50,"value":335},"    \"title\"",{"type":44,"tag":183,"props":337,"children":338},{"style":221},[339],{"type":50,"value":316},{"type":44,"tag":183,"props":341,"children":342},{"style":294},[343],{"type":50,"value":344},"\"Liverpool FC\"",{"type":44,"tag":183,"props":346,"children":347},{"style":221},[348],{"type":50,"value":326},{"type":44,"tag":183,"props":350,"children":352},{"class":185,"line":351},8,[353,358,362,367],{"type":44,"tag":183,"props":354,"children":355},{"style":294},[356],{"type":50,"value":357},"    \"authorId\"",{"type":44,"tag":183,"props":359,"children":360},{"style":221},[361],{"type":50,"value":316},{"type":44,"tag":183,"props":363,"children":364},{"style":294},[365],{"type":50,"value":366},"\"5303d74c64f66366f00cb9b2a94f3251bf5\"",{"type":44,"tag":183,"props":368,"children":369},{"style":221},[370],{"type":50,"value":326},{"type":44,"tag":183,"props":372,"children":374},{"class":185,"line":373},9,[375,380,385,390,395,400,404,409],{"type":44,"tag":183,"props":376,"children":377},{"style":294},[378],{"type":50,"value":379},"    \"tags\"",{"type":44,"tag":183,"props":381,"children":382},{"style":221},[383],{"type":50,"value":384},": [",{"type":44,"tag":183,"props":386,"children":387},{"style":294},[388],{"type":50,"value":389},"\"football\"",{"type":44,"tag":183,"props":391,"children":392},{"style":221},[393],{"type":50,"value":394},", ",{"type":44,"tag":183,"props":396,"children":397},{"style":294},[398],{"type":50,"value":399},"\"sport\"",{"type":44,"tag":183,"props":401,"children":402},{"style":221},[403],{"type":50,"value":394},{"type":44,"tag":183,"props":405,"children":406},{"style":294},[407],{"type":50,"value":408},"\"Liverpool\"",{"type":44,"tag":183,"props":410,"children":411},{"style":221},[412],{"type":50,"value":413},"],\n",{"type":44,"tag":183,"props":415,"children":417},{"class":185,"line":416},10,[418,423,427,432],{"type":44,"tag":183,"props":419,"children":420},{"style":294},[421],{"type":50,"value":422},"    \"url\"",{"type":44,"tag":183,"props":424,"children":425},{"style":221},[426],{"type":50,"value":316},{"type":44,"tag":183,"props":428,"children":429},{"style":294},[430],{"type":50,"value":431},"\"https://medium.com/@majelbstoat/liverpool-fc-e6f36a\"",{"type":44,"tag":183,"props":433,"children":434},{"style":221},[435],{"type":50,"value":326},{"type":44,"tag":183,"props":437,"children":439},{"class":185,"line":438},11,[440,445,449,454],{"type":44,"tag":183,"props":441,"children":442},{"style":294},[443],{"type":50,"value":444},"    \"canonicalUrl\"",{"type":44,"tag":183,"props":446,"children":447},{"style":221},[448],{"type":50,"value":316},{"type":44,"tag":183,"props":450,"children":451},{"style":294},[452],{"type":50,"value":453},"\"http://jamietalbot.com/posts/liverpool-fc\"",{"type":44,"tag":183,"props":455,"children":456},{"style":221},[457],{"type":50,"value":326},{"type":44,"tag":183,"props":459,"children":461},{"class":185,"line":460},12,[462,467,471,476],{"type":44,"tag":183,"props":463,"children":464},{"style":294},[465],{"type":50,"value":466},"    \"publishStatus\"",{"type":44,"tag":183,"props":468,"children":469},{"style":221},[470],{"type":50,"value":316},{"type":44,"tag":183,"props":472,"children":473},{"style":294},[474],{"type":50,"value":475},"\"public\"",{"type":44,"tag":183,"props":477,"children":478},{"style":221},[479],{"type":50,"value":326},{"type":44,"tag":183,"props":481,"children":483},{"class":185,"line":482},13,[484,489,493,498],{"type":44,"tag":183,"props":485,"children":486},{"style":294},[487],{"type":50,"value":488},"    \"publishedAt\"",{"type":44,"tag":183,"props":490,"children":491},{"style":221},[492],{"type":50,"value":316},{"type":44,"tag":183,"props":494,"children":495},{"style":190},[496],{"type":50,"value":497},"1442286338435",{"type":44,"tag":183,"props":499,"children":500},{"style":221},[501],{"type":50,"value":326},{"type":44,"tag":183,"props":503,"children":505},{"class":185,"line":504},14,[506,511,515,520],{"type":44,"tag":183,"props":507,"children":508},{"style":294},[509],{"type":50,"value":510},"    \"license\"",{"type":44,"tag":183,"props":512,"children":513},{"style":221},[514],{"type":50,"value":316},{"type":44,"tag":183,"props":516,"children":517},{"style":294},[518],{"type":50,"value":519},"\"all-rights-reserved\"",{"type":44,"tag":183,"props":521,"children":522},{"style":221},[523],{"type":50,"value":326},{"type":44,"tag":183,"props":525,"children":527},{"class":185,"line":526},15,[528,533,537],{"type":44,"tag":183,"props":529,"children":530},{"style":294},[531],{"type":50,"value":532},"    \"licenseUrl\"",{"type":44,"tag":183,"props":534,"children":535},{"style":221},[536],{"type":50,"value":316},{"type":44,"tag":183,"props":538,"children":539},{"style":294},[540],{"type":50,"value":541},"\"https://medium.com/policy/9db0094a1e0f\"\n",{"type":44,"tag":183,"props":543,"children":545},{"class":185,"line":544},16,[546],{"type":44,"tag":183,"props":547,"children":548},{"style":221},[549],{"type":50,"value":550},"  }\n",{"type":44,"tag":56,"props":552,"children":553},{},[554],{"type":50,"value":555},"Mocking this with MSW was simple. It was nearly a copy paste:",{"type":44,"tag":172,"props":557,"children":561},{"className":558,"code":559,"language":560,"meta":6,"style":6},"language-ts shiki shiki-themes github-light","//  src/mocks/handlers.ts\n\nimport { rest } from 'msw'\n\nexport const handlers = [\n1. rest.post('https://api.medium.com/*', (req, res, ctx) => {\n    return res(\n2.    ctx.status(201),\n3.    ctx.json({\n        data: {\n          id: 'e6f36a',\n          title: 'Liverpool FC',\n          authorId: '5303d74c64f66366f00cb9b2a94f3251bf5',\n          tags: ['football', 'sport', 'Liverpool'],\n          url: 'https://medium.com/@majelbstoat/liverpool-fc-e6f36a',\n          canonicalUrl: 'http://jamietalbot.com/posts/liverpool-fc',\n          publishStatus: 'public',\n          publishedAt: 1442286338435,\n          license: 'all-rights-reserved',\n          licenseUrl: 'https://medium.com/policy/9db0094a1e0f',\n        },\n      })\n    )\n  }),\n]\n","ts",[562],{"type":44,"tag":179,"props":563,"children":564},{"__ignoreMap":6},[565,574,581,604,611,639,710,728,760,782,790,807,824,841,876,893,910,928,945,963,981,990,999,1008,1017],{"type":44,"tag":183,"props":566,"children":567},{"class":185,"line":186},[568],{"type":44,"tag":183,"props":569,"children":571},{"style":570},"--shiki-default:#6A737D",[572],{"type":50,"value":573},"//  src/mocks/handlers.ts\n",{"type":44,"tag":183,"props":575,"children":576},{"class":185,"line":217},[577],{"type":44,"tag":183,"props":578,"children":579},{"emptyLinePlaceholder":275},[580],{"type":50,"value":278},{"type":44,"tag":183,"props":582,"children":583},{"class":185,"line":271},[584,589,594,599],{"type":44,"tag":183,"props":585,"children":586},{"style":196},[587],{"type":50,"value":588},"import",{"type":44,"tag":183,"props":590,"children":591},{"style":221},[592],{"type":50,"value":593}," { rest } ",{"type":44,"tag":183,"props":595,"children":596},{"style":196},[597],{"type":50,"value":598},"from",{"type":44,"tag":183,"props":600,"children":601},{"style":294},[602],{"type":50,"value":603}," 'msw'\n",{"type":44,"tag":183,"props":605,"children":606},{"class":185,"line":281},[607],{"type":44,"tag":183,"props":608,"children":609},{"emptyLinePlaceholder":275},[610],{"type":50,"value":278},{"type":44,"tag":183,"props":612,"children":613},{"class":185,"line":290},[614,619,624,629,634],{"type":44,"tag":183,"props":615,"children":616},{"style":196},[617],{"type":50,"value":618},"export",{"type":44,"tag":183,"props":620,"children":621},{"style":196},[622],{"type":50,"value":623}," const",{"type":44,"tag":183,"props":625,"children":626},{"style":190},[627],{"type":50,"value":628}," handlers",{"type":44,"tag":183,"props":630,"children":631},{"style":196},[632],{"type":50,"value":633}," =",{"type":44,"tag":183,"props":635,"children":636},{"style":221},[637],{"type":50,"value":638}," [\n",{"type":44,"tag":183,"props":640,"children":641},{"class":185,"line":305},[642,647,652,656,661,666,671,677,681,686,690,695,700,705],{"type":44,"tag":183,"props":643,"children":644},{"style":190},[645],{"type":50,"value":646},"1.",{"type":44,"tag":183,"props":648,"children":649},{"style":221},[650],{"type":50,"value":651}," rest.",{"type":44,"tag":183,"props":653,"children":654},{"style":232},[655],{"type":50,"value":10},{"type":44,"tag":183,"props":657,"children":658},{"style":221},[659],{"type":50,"value":660},"(",{"type":44,"tag":183,"props":662,"children":663},{"style":294},[664],{"type":50,"value":665},"'https://api.medium.com/*'",{"type":44,"tag":183,"props":667,"children":668},{"style":221},[669],{"type":50,"value":670},", (",{"type":44,"tag":183,"props":672,"children":674},{"style":673},"--shiki-default:#E36209",[675],{"type":50,"value":676},"req",{"type":44,"tag":183,"props":678,"children":679},{"style":221},[680],{"type":50,"value":394},{"type":44,"tag":183,"props":682,"children":683},{"style":673},[684],{"type":50,"value":685},"res",{"type":44,"tag":183,"props":687,"children":688},{"style":221},[689],{"type":50,"value":394},{"type":44,"tag":183,"props":691,"children":692},{"style":673},[693],{"type":50,"value":694},"ctx",{"type":44,"tag":183,"props":696,"children":697},{"style":221},[698],{"type":50,"value":699},") ",{"type":44,"tag":183,"props":701,"children":702},{"style":196},[703],{"type":50,"value":704},"=>",{"type":44,"tag":183,"props":706,"children":707},{"style":221},[708],{"type":50,"value":709}," {\n",{"type":44,"tag":183,"props":711,"children":712},{"class":185,"line":329},[713,718,723],{"type":44,"tag":183,"props":714,"children":715},{"style":196},[716],{"type":50,"value":717},"    return",{"type":44,"tag":183,"props":719,"children":720},{"style":232},[721],{"type":50,"value":722}," res",{"type":44,"tag":183,"props":724,"children":725},{"style":221},[726],{"type":50,"value":727},"(\n",{"type":44,"tag":183,"props":729,"children":730},{"class":185,"line":351},[731,736,741,746,750,755],{"type":44,"tag":183,"props":732,"children":733},{"style":190},[734],{"type":50,"value":735},"2.",{"type":44,"tag":183,"props":737,"children":738},{"style":221},[739],{"type":50,"value":740},"    ctx.",{"type":44,"tag":183,"props":742,"children":743},{"style":232},[744],{"type":50,"value":745},"status",{"type":44,"tag":183,"props":747,"children":748},{"style":221},[749],{"type":50,"value":660},{"type":44,"tag":183,"props":751,"children":752},{"style":190},[753],{"type":50,"value":754},"201",{"type":44,"tag":183,"props":756,"children":757},{"style":221},[758],{"type":50,"value":759},"),\n",{"type":44,"tag":183,"props":761,"children":762},{"class":185,"line":373},[763,768,772,777],{"type":44,"tag":183,"props":764,"children":765},{"style":190},[766],{"type":50,"value":767},"3.",{"type":44,"tag":183,"props":769,"children":770},{"style":221},[771],{"type":50,"value":740},{"type":44,"tag":183,"props":773,"children":774},{"style":232},[775],{"type":50,"value":776},"json",{"type":44,"tag":183,"props":778,"children":779},{"style":221},[780],{"type":50,"value":781},"({\n",{"type":44,"tag":183,"props":783,"children":784},{"class":185,"line":416},[785],{"type":44,"tag":183,"props":786,"children":787},{"style":221},[788],{"type":50,"value":789},"        data: {\n",{"type":44,"tag":183,"props":791,"children":792},{"class":185,"line":438},[793,798,803],{"type":44,"tag":183,"props":794,"children":795},{"style":221},[796],{"type":50,"value":797},"          id: ",{"type":44,"tag":183,"props":799,"children":800},{"style":294},[801],{"type":50,"value":802},"'e6f36a'",{"type":44,"tag":183,"props":804,"children":805},{"style":221},[806],{"type":50,"value":326},{"type":44,"tag":183,"props":808,"children":809},{"class":185,"line":460},[810,815,820],{"type":44,"tag":183,"props":811,"children":812},{"style":221},[813],{"type":50,"value":814},"          title: ",{"type":44,"tag":183,"props":816,"children":817},{"style":294},[818],{"type":50,"value":819},"'Liverpool FC'",{"type":44,"tag":183,"props":821,"children":822},{"style":221},[823],{"type":50,"value":326},{"type":44,"tag":183,"props":825,"children":826},{"class":185,"line":482},[827,832,837],{"type":44,"tag":183,"props":828,"children":829},{"style":221},[830],{"type":50,"value":831},"          authorId: ",{"type":44,"tag":183,"props":833,"children":834},{"style":294},[835],{"type":50,"value":836},"'5303d74c64f66366f00cb9b2a94f3251bf5'",{"type":44,"tag":183,"props":838,"children":839},{"style":221},[840],{"type":50,"value":326},{"type":44,"tag":183,"props":842,"children":843},{"class":185,"line":504},[844,849,854,858,863,867,872],{"type":44,"tag":183,"props":845,"children":846},{"style":221},[847],{"type":50,"value":848},"          tags: [",{"type":44,"tag":183,"props":850,"children":851},{"style":294},[852],{"type":50,"value":853},"'football'",{"type":44,"tag":183,"props":855,"children":856},{"style":221},[857],{"type":50,"value":394},{"type":44,"tag":183,"props":859,"children":860},{"style":294},[861],{"type":50,"value":862},"'sport'",{"type":44,"tag":183,"props":864,"children":865},{"style":221},[866],{"type":50,"value":394},{"type":44,"tag":183,"props":868,"children":869},{"style":294},[870],{"type":50,"value":871},"'Liverpool'",{"type":44,"tag":183,"props":873,"children":874},{"style":221},[875],{"type":50,"value":413},{"type":44,"tag":183,"props":877,"children":878},{"class":185,"line":526},[879,884,889],{"type":44,"tag":183,"props":880,"children":881},{"style":221},[882],{"type":50,"value":883},"          url: ",{"type":44,"tag":183,"props":885,"children":886},{"style":294},[887],{"type":50,"value":888},"'https://medium.com/@majelbstoat/liverpool-fc-e6f36a'",{"type":44,"tag":183,"props":890,"children":891},{"style":221},[892],{"type":50,"value":326},{"type":44,"tag":183,"props":894,"children":895},{"class":185,"line":544},[896,901,906],{"type":44,"tag":183,"props":897,"children":898},{"style":221},[899],{"type":50,"value":900},"          canonicalUrl: ",{"type":44,"tag":183,"props":902,"children":903},{"style":294},[904],{"type":50,"value":905},"'http://jamietalbot.com/posts/liverpool-fc'",{"type":44,"tag":183,"props":907,"children":908},{"style":221},[909],{"type":50,"value":326},{"type":44,"tag":183,"props":911,"children":913},{"class":185,"line":912},17,[914,919,924],{"type":44,"tag":183,"props":915,"children":916},{"style":221},[917],{"type":50,"value":918},"          publishStatus: ",{"type":44,"tag":183,"props":920,"children":921},{"style":294},[922],{"type":50,"value":923},"'public'",{"type":44,"tag":183,"props":925,"children":926},{"style":221},[927],{"type":50,"value":326},{"type":44,"tag":183,"props":929,"children":931},{"class":185,"line":930},18,[932,937,941],{"type":44,"tag":183,"props":933,"children":934},{"style":221},[935],{"type":50,"value":936},"          publishedAt: ",{"type":44,"tag":183,"props":938,"children":939},{"style":190},[940],{"type":50,"value":497},{"type":44,"tag":183,"props":942,"children":943},{"style":221},[944],{"type":50,"value":326},{"type":44,"tag":183,"props":946,"children":948},{"class":185,"line":947},19,[949,954,959],{"type":44,"tag":183,"props":950,"children":951},{"style":221},[952],{"type":50,"value":953},"          license: ",{"type":44,"tag":183,"props":955,"children":956},{"style":294},[957],{"type":50,"value":958},"'all-rights-reserved'",{"type":44,"tag":183,"props":960,"children":961},{"style":221},[962],{"type":50,"value":326},{"type":44,"tag":183,"props":964,"children":966},{"class":185,"line":965},20,[967,972,977],{"type":44,"tag":183,"props":968,"children":969},{"style":221},[970],{"type":50,"value":971},"          licenseUrl: ",{"type":44,"tag":183,"props":973,"children":974},{"style":294},[975],{"type":50,"value":976},"'https://medium.com/policy/9db0094a1e0f'",{"type":44,"tag":183,"props":978,"children":979},{"style":221},[980],{"type":50,"value":326},{"type":44,"tag":183,"props":982,"children":984},{"class":185,"line":983},21,[985],{"type":44,"tag":183,"props":986,"children":987},{"style":221},[988],{"type":50,"value":989},"        },\n",{"type":44,"tag":183,"props":991,"children":993},{"class":185,"line":992},22,[994],{"type":44,"tag":183,"props":995,"children":996},{"style":221},[997],{"type":50,"value":998},"      })\n",{"type":44,"tag":183,"props":1000,"children":1002},{"class":185,"line":1001},23,[1003],{"type":44,"tag":183,"props":1004,"children":1005},{"style":221},[1006],{"type":50,"value":1007},"    )\n",{"type":44,"tag":183,"props":1009,"children":1011},{"class":185,"line":1010},24,[1012],{"type":44,"tag":183,"props":1013,"children":1014},{"style":221},[1015],{"type":50,"value":1016},"  }),\n",{"type":44,"tag":183,"props":1018,"children":1020},{"class":185,"line":1019},25,[1021],{"type":44,"tag":183,"props":1022,"children":1023},{"style":221},[1024],{"type":50,"value":1025},"]\n",{"type":44,"tag":1027,"props":1028,"children":1029},"ol",{},[1030,1065,1070],{"type":44,"tag":1031,"props":1032,"children":1033},"li",{},[1034,1036,1042,1043,1047,1049,1055,1057,1063],{"type":50,"value":1035},"I set this handler to intercept POST requests to any URL that starts with ",{"type":44,"tag":179,"props":1037,"children":1039},{"className":1038},[],[1040],{"type":50,"value":1041},"https://api.medium.com/*",{"type":50,"value":165},{"type":44,"tag":1044,"props":1045,"children":1046},"br",{},[],{"type":50,"value":1048},"The ",{"type":44,"tag":179,"props":1050,"children":1052},{"className":1051},[],[1053],{"type":50,"value":1054},"*",{"type":50,"value":1056}," represents a wildcard meaning anytime my application attempts to send a POST request to a URL starting with ",{"type":44,"tag":67,"props":1058,"children":1061},{"href":1059,"rel":1060},"https://api.medium.com/",[71],[1062],{"type":50,"value":1059},{"type":50,"value":1064},", it will intercept it and return the provided response at 3.",{"type":44,"tag":1031,"props":1066,"children":1067},{},[1068],{"type":50,"value":1069},"We are setting the HTTP response status code we'd like to test against.",{"type":44,"tag":1031,"props":1071,"children":1072},{},[1073],{"type":50,"value":1074},"This is where we define the JSON response that we wish to be returned from the POST request.",{"type":44,"tag":100,"props":1076,"children":1078},{"id":1077},"edge-cases",[1079],{"type":50,"value":1080},"Edge cases",{"type":44,"tag":56,"props":1082,"children":1083},{},[1084,1086,1093],{"type":50,"value":1085},"Certain packages require additional configuration. These are primarily ",{"type":44,"tag":67,"props":1087,"children":1090},{"href":1088,"rel":1089},"https://jestjs.io/",[71],[1091],{"type":50,"value":1092},"jest",{"type":50,"value":1094}," issues rather than MSW, but I ran into them while setting this up. I decided to document it incase anyone else runs into these issues like I did.",{"type":44,"tag":1096,"props":1097,"children":1099},"h3",{"id":1098},"dotenv",[1100],{"type":44,"tag":67,"props":1101,"children":1104},{"href":1102,"rel":1103},"https://github.com/motdotla/dotenv",[71],[1105],{"type":50,"value":1098},{"type":44,"tag":56,"props":1107,"children":1108},{},[1109,1111,1117],{"type":50,"value":1110},"Within your ",{"type":44,"tag":179,"props":1112,"children":1114},{"className":1113},[],[1115],{"type":50,"value":1116},"jest.config.ts",{"type":50,"value":1118}," file, make sure you have the following:",{"type":44,"tag":172,"props":1120,"children":1122},{"className":174,"code":1121,"language":176,"meta":6,"style":6},"// jest.config.ts\nmodule.exports = {\n  setupFiles: ['dotenv/config'],\n}\n",[1123],{"type":44,"tag":179,"props":1124,"children":1125},{"__ignoreMap":6},[1126,1134,1159,1176],{"type":44,"tag":183,"props":1127,"children":1128},{"class":185,"line":186},[1129],{"type":44,"tag":183,"props":1130,"children":1131},{"style":570},[1132],{"type":50,"value":1133},"// jest.config.ts\n",{"type":44,"tag":183,"props":1135,"children":1136},{"class":185,"line":217},[1137,1142,1146,1151,1155],{"type":44,"tag":183,"props":1138,"children":1139},{"style":190},[1140],{"type":50,"value":1141},"module",{"type":44,"tag":183,"props":1143,"children":1144},{"style":221},[1145],{"type":50,"value":165},{"type":44,"tag":183,"props":1147,"children":1148},{"style":190},[1149],{"type":50,"value":1150},"exports",{"type":44,"tag":183,"props":1152,"children":1153},{"style":196},[1154],{"type":50,"value":633},{"type":44,"tag":183,"props":1156,"children":1157},{"style":221},[1158],{"type":50,"value":709},{"type":44,"tag":183,"props":1160,"children":1161},{"class":185,"line":271},[1162,1167,1172],{"type":44,"tag":183,"props":1163,"children":1164},{"style":221},[1165],{"type":50,"value":1166},"  setupFiles: [",{"type":44,"tag":183,"props":1168,"children":1169},{"style":294},[1170],{"type":50,"value":1171},"'dotenv/config'",{"type":44,"tag":183,"props":1173,"children":1174},{"style":221},[1175],{"type":50,"value":413},{"type":44,"tag":183,"props":1177,"children":1178},{"class":185,"line":281},[1179],{"type":44,"tag":183,"props":1180,"children":1181},{"style":221},[1182],{"type":50,"value":1183},"}\n",{"type":44,"tag":1096,"props":1185,"children":1187},{"id":1186},"setuptests-file",[1188],{"type":50,"value":1189},"setupTests file",{"type":44,"tag":56,"props":1191,"children":1192},{},[1193],{"type":50,"value":1194},"You'll need to set up your jest tests to listen, reset, and close the MSW server.",{"type":44,"tag":56,"props":1196,"children":1197},{},[1198,1200,1206],{"type":50,"value":1199},"If you use Create React App, you may already have a file named ",{"type":44,"tag":179,"props":1201,"children":1203},{"className":1202},[],[1204],{"type":50,"value":1205},"src/setupTests.js",{"type":50,"value":165},{"type":44,"tag":56,"props":1208,"children":1209},{},[1210],{"type":50,"value":1211},"Otherwise, you'll need to create a setup file yourself.",{"type":44,"tag":56,"props":1213,"children":1214},{},[1215],{"type":50,"value":1216},"Then, add in the following code:",{"type":44,"tag":172,"props":1218,"children":1220},{"className":558,"code":1219,"language":560,"meta":6,"style":6},"// src/setupTests.js\nimport { server } from './mocks/server.js'\n\n// Establish API mocking before all tests.\nbeforeAll(() => server.listen())\n\n// Reset any request handlers that we may add during the tests,\n// so they don't affect other tests.\nafterEach(() => server.resetHandlers())\n\n// Clean up after the tests are finished.\nafterAll(() => server.close())\n",[1221],{"type":44,"tag":179,"props":1222,"children":1223},{"__ignoreMap":6},[1224,1232,1253,1260,1268,1300,1307,1315,1323,1352,1359,1367],{"type":44,"tag":183,"props":1225,"children":1226},{"class":185,"line":186},[1227],{"type":44,"tag":183,"props":1228,"children":1229},{"style":570},[1230],{"type":50,"value":1231},"// src/setupTests.js\n",{"type":44,"tag":183,"props":1233,"children":1234},{"class":185,"line":217},[1235,1239,1244,1248],{"type":44,"tag":183,"props":1236,"children":1237},{"style":196},[1238],{"type":50,"value":588},{"type":44,"tag":183,"props":1240,"children":1241},{"style":221},[1242],{"type":50,"value":1243}," { server } ",{"type":44,"tag":183,"props":1245,"children":1246},{"style":196},[1247],{"type":50,"value":598},{"type":44,"tag":183,"props":1249,"children":1250},{"style":294},[1251],{"type":50,"value":1252}," './mocks/server.js'\n",{"type":44,"tag":183,"props":1254,"children":1255},{"class":185,"line":271},[1256],{"type":44,"tag":183,"props":1257,"children":1258},{"emptyLinePlaceholder":275},[1259],{"type":50,"value":278},{"type":44,"tag":183,"props":1261,"children":1262},{"class":185,"line":281},[1263],{"type":44,"tag":183,"props":1264,"children":1265},{"style":570},[1266],{"type":50,"value":1267},"// Establish API mocking before all tests.\n",{"type":44,"tag":183,"props":1269,"children":1270},{"class":185,"line":290},[1271,1276,1281,1285,1290,1295],{"type":44,"tag":183,"props":1272,"children":1273},{"style":232},[1274],{"type":50,"value":1275},"beforeAll",{"type":44,"tag":183,"props":1277,"children":1278},{"style":221},[1279],{"type":50,"value":1280},"(() ",{"type":44,"tag":183,"props":1282,"children":1283},{"style":196},[1284],{"type":50,"value":704},{"type":44,"tag":183,"props":1286,"children":1287},{"style":221},[1288],{"type":50,"value":1289}," server.",{"type":44,"tag":183,"props":1291,"children":1292},{"style":232},[1293],{"type":50,"value":1294},"listen",{"type":44,"tag":183,"props":1296,"children":1297},{"style":221},[1298],{"type":50,"value":1299},"())\n",{"type":44,"tag":183,"props":1301,"children":1302},{"class":185,"line":305},[1303],{"type":44,"tag":183,"props":1304,"children":1305},{"emptyLinePlaceholder":275},[1306],{"type":50,"value":278},{"type":44,"tag":183,"props":1308,"children":1309},{"class":185,"line":329},[1310],{"type":44,"tag":183,"props":1311,"children":1312},{"style":570},[1313],{"type":50,"value":1314},"// Reset any request handlers that we may add during the tests,\n",{"type":44,"tag":183,"props":1316,"children":1317},{"class":185,"line":351},[1318],{"type":44,"tag":183,"props":1319,"children":1320},{"style":570},[1321],{"type":50,"value":1322},"// so they don't affect other tests.\n",{"type":44,"tag":183,"props":1324,"children":1325},{"class":185,"line":373},[1326,1331,1335,1339,1343,1348],{"type":44,"tag":183,"props":1327,"children":1328},{"style":232},[1329],{"type":50,"value":1330},"afterEach",{"type":44,"tag":183,"props":1332,"children":1333},{"style":221},[1334],{"type":50,"value":1280},{"type":44,"tag":183,"props":1336,"children":1337},{"style":196},[1338],{"type":50,"value":704},{"type":44,"tag":183,"props":1340,"children":1341},{"style":221},[1342],{"type":50,"value":1289},{"type":44,"tag":183,"props":1344,"children":1345},{"style":232},[1346],{"type":50,"value":1347},"resetHandlers",{"type":44,"tag":183,"props":1349,"children":1350},{"style":221},[1351],{"type":50,"value":1299},{"type":44,"tag":183,"props":1353,"children":1354},{"class":185,"line":416},[1355],{"type":44,"tag":183,"props":1356,"children":1357},{"emptyLinePlaceholder":275},[1358],{"type":50,"value":278},{"type":44,"tag":183,"props":1360,"children":1361},{"class":185,"line":438},[1362],{"type":44,"tag":183,"props":1363,"children":1364},{"style":570},[1365],{"type":50,"value":1366},"// Clean up after the tests are finished.\n",{"type":44,"tag":183,"props":1368,"children":1369},{"class":185,"line":460},[1370,1375,1379,1383,1387,1392],{"type":44,"tag":183,"props":1371,"children":1372},{"style":232},[1373],{"type":50,"value":1374},"afterAll",{"type":44,"tag":183,"props":1376,"children":1377},{"style":221},[1378],{"type":50,"value":1280},{"type":44,"tag":183,"props":1380,"children":1381},{"style":196},[1382],{"type":50,"value":704},{"type":44,"tag":183,"props":1384,"children":1385},{"style":221},[1386],{"type":50,"value":1289},{"type":44,"tag":183,"props":1388,"children":1389},{"style":232},[1390],{"type":50,"value":1391},"close",{"type":44,"tag":183,"props":1393,"children":1394},{"style":221},[1395],{"type":50,"value":1299},{"type":44,"tag":56,"props":1397,"children":1398},{},[1399],{"type":50,"value":1400},"This sets your Jest testing environment up to start the MSW server, reset it, and close it after different stages of the Jest lifecycle.",{"type":44,"tag":56,"props":1402,"children":1403},{},[1404,1406,1411],{"type":50,"value":1405},"You'll then want to add a line to your ",{"type":44,"tag":179,"props":1407,"children":1409},{"className":1408},[],[1410],{"type":50,"value":1116},{"type":50,"value":1412}," file:",{"type":44,"tag":172,"props":1414,"children":1416},{"className":558,"code":1415,"language":560,"meta":6,"style":6},"// jest.config.ts\nmodule.exports = {\n  setupFilesAfterEnv: ['\u003CrootDir>/src/setupTests.ts'],\n}\n",[1417],{"type":44,"tag":179,"props":1418,"children":1419},{"__ignoreMap":6},[1420,1427,1450,1467],{"type":44,"tag":183,"props":1421,"children":1422},{"class":185,"line":186},[1423],{"type":44,"tag":183,"props":1424,"children":1425},{"style":570},[1426],{"type":50,"value":1133},{"type":44,"tag":183,"props":1428,"children":1429},{"class":185,"line":217},[1430,1434,1438,1442,1446],{"type":44,"tag":183,"props":1431,"children":1432},{"style":190},[1433],{"type":50,"value":1141},{"type":44,"tag":183,"props":1435,"children":1436},{"style":221},[1437],{"type":50,"value":165},{"type":44,"tag":183,"props":1439,"children":1440},{"style":190},[1441],{"type":50,"value":1150},{"type":44,"tag":183,"props":1443,"children":1444},{"style":196},[1445],{"type":50,"value":633},{"type":44,"tag":183,"props":1447,"children":1448},{"style":221},[1449],{"type":50,"value":709},{"type":44,"tag":183,"props":1451,"children":1452},{"class":185,"line":271},[1453,1458,1463],{"type":44,"tag":183,"props":1454,"children":1455},{"style":221},[1456],{"type":50,"value":1457},"  setupFilesAfterEnv: [",{"type":44,"tag":183,"props":1459,"children":1460},{"style":294},[1461],{"type":50,"value":1462},"'\u003CrootDir>/src/setupTests.ts'",{"type":44,"tag":183,"props":1464,"children":1465},{"style":221},[1466],{"type":50,"value":413},{"type":44,"tag":183,"props":1468,"children":1469},{"class":185,"line":281},[1470],{"type":44,"tag":183,"props":1471,"children":1472},{"style":221},[1473],{"type":50,"value":1183},{"type":44,"tag":1096,"props":1475,"children":1477},{"id":1476},"error-enoent-no-such-file-or-directory-open-file",[1478],{"type":50,"value":1479},"Error: ENOENT: no such file or directory, open \"file\"",{"type":44,"tag":56,"props":1481,"children":1482},{},[1483],{"type":50,"value":1484},"I'm reading markdown files in Blogflow. Before writing my tests, I was using relative paths like so:",{"type":44,"tag":172,"props":1486,"children":1488},{"className":174,"code":1487,"language":176,"meta":6,"style":6},"const data = matter(readFile('./file.md'))\n",[1489],{"type":44,"tag":179,"props":1490,"children":1491},{"__ignoreMap":6},[1492],{"type":44,"tag":183,"props":1493,"children":1494},{"class":185,"line":186},[1495,1500,1505,1509,1514,1518,1523,1527,1532],{"type":44,"tag":183,"props":1496,"children":1497},{"style":196},[1498],{"type":50,"value":1499},"const",{"type":44,"tag":183,"props":1501,"children":1502},{"style":190},[1503],{"type":50,"value":1504}," data",{"type":44,"tag":183,"props":1506,"children":1507},{"style":196},[1508],{"type":50,"value":633},{"type":44,"tag":183,"props":1510,"children":1511},{"style":232},[1512],{"type":50,"value":1513}," matter",{"type":44,"tag":183,"props":1515,"children":1516},{"style":221},[1517],{"type":50,"value":660},{"type":44,"tag":183,"props":1519,"children":1520},{"style":232},[1521],{"type":50,"value":1522},"readFile",{"type":44,"tag":183,"props":1524,"children":1525},{"style":221},[1526],{"type":50,"value":660},{"type":44,"tag":183,"props":1528,"children":1529},{"style":294},[1530],{"type":50,"value":1531},"'./file.md'",{"type":44,"tag":183,"props":1533,"children":1534},{"style":221},[1535],{"type":50,"value":1536},"))\n",{"type":44,"tag":56,"props":1538,"children":1539},{},[1540,1542],{"type":50,"value":1541},"My tests didn't like that and threw the error ",{"type":44,"tag":179,"props":1543,"children":1545},{"className":1544},[],[1546],{"type":50,"value":1479},{"type":44,"tag":56,"props":1548,"children":1549},{},[1550,1557,1559,1565],{"type":44,"tag":67,"props":1551,"children":1554},{"href":1552,"rel":1553},"https://stackoverflow.com/a/59179782/6642089",[71],[1555],{"type":50,"value":1556},"This",{"type":50,"value":1558}," Stackoverflow post explained I needed to use ",{"type":44,"tag":179,"props":1560,"children":1562},{"className":1561},[],[1563],{"type":50,"value":1564},"_dirname",{"type":50,"value":1566},". This code now looks like the snippet below. Now my tests and code run as expected.",{"type":44,"tag":172,"props":1568,"children":1570},{"className":174,"code":1569,"language":176,"meta":6,"style":6},"const data = matter(readFile(__dirname + '/file.md'))\n",[1571],{"type":44,"tag":179,"props":1572,"children":1573},{"__ignoreMap":6},[1574],{"type":44,"tag":183,"props":1575,"children":1576},{"class":185,"line":186},[1577,1581,1585,1589,1593,1597,1601,1606,1611,1616],{"type":44,"tag":183,"props":1578,"children":1579},{"style":196},[1580],{"type":50,"value":1499},{"type":44,"tag":183,"props":1582,"children":1583},{"style":190},[1584],{"type":50,"value":1504},{"type":44,"tag":183,"props":1586,"children":1587},{"style":196},[1588],{"type":50,"value":633},{"type":44,"tag":183,"props":1590,"children":1591},{"style":232},[1592],{"type":50,"value":1513},{"type":44,"tag":183,"props":1594,"children":1595},{"style":221},[1596],{"type":50,"value":660},{"type":44,"tag":183,"props":1598,"children":1599},{"style":232},[1600],{"type":50,"value":1522},{"type":44,"tag":183,"props":1602,"children":1603},{"style":221},[1604],{"type":50,"value":1605},"(__dirname ",{"type":44,"tag":183,"props":1607,"children":1608},{"style":196},[1609],{"type":50,"value":1610},"+",{"type":44,"tag":183,"props":1612,"children":1613},{"style":294},[1614],{"type":50,"value":1615}," '/file.md'",{"type":44,"tag":183,"props":1617,"children":1618},{"style":221},[1619],{"type":50,"value":1536},{"type":44,"tag":100,"props":1621,"children":1623},{"id":1622},"conclusion",[1624],{"type":50,"value":1625},"Conclusion",{"type":44,"tag":56,"props":1627,"children":1628},{},[1629],{"type":50,"value":1630},"This is all fairly new to me, but I believe there is value in this sort of testing.",{"type":44,"tag":56,"props":1632,"children":1633},{},[1634],{"type":50,"value":1635},"One immediate case is mocking response's that are loaded into components. It's tough to get every state through live data. It's much easier to mock certain HTTP status codes and response objects that will change the way a component is rendered.",{"type":44,"tag":1637,"props":1638,"children":1639},"hr",{},[],{"type":44,"tag":56,"props":1641,"children":1642},{},[1643,1645],{"type":50,"value":1644},"I hope this article was helpful. Let me know if you have any questions, comments, or suggestions on Twitter ",{"type":44,"tag":67,"props":1646,"children":1649},{"href":1647,"rel":1648},"https://twitter.com/CodyBontecou",[71],[1650],{"type":50,"value":1651},"@codybontecou",{"type":44,"tag":1653,"props":1654,"children":1655},"style",{},[1656],{"type":50,"value":1657},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":6,"searchDepth":217,"depth":217,"links":1659},[1660,1661,1662,1667],{"id":102,"depth":217,"text":105},{"id":136,"depth":217,"text":139},{"id":1077,"depth":217,"text":1080,"children":1663},[1664,1665,1666],{"id":1098,"depth":271,"text":1098},{"id":1186,"depth":271,"text":1189},{"id":1476,"depth":271,"text":1479},{"id":1622,"depth":217,"text":1625},"markdown","content:mocking-api-with-msw-and-typescript.md","content","mocking-api-with-msw-and-typescript.md","mocking-api-with-msw-and-typescript","md",1730669434915]