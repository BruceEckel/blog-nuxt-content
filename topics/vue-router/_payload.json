[{"data":1,"prerenderedAt":587},["ShallowReactive",2],{"post-/topics/vue-router":3},[4,301],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":9,"type":10,"author":11,"date":14,"category":15,"dropdown":16,"tags":17,"meta":22,"canonicalUrl":37,"topics":38,"created_at":41,"last_modified":42,"body":43,"_type":295,"_id":296,"_source":297,"_file":298,"_stem":299,"_extension":300},"/using-url-query-params-in-nuxt-3","",false,"Using URL Query Params in Nuxt 3","Use Nuxt3's useRoute function to use URL parameters to determine state.","post",{"name":12,"image":13},"Cody Bontecou","https://codybontecou.com/images/cody-abstract.jpeg","2022-02-15","tutorials","NuxtJS",[18,19,20,21],"vue","Vite","Route","nuxt",[23,25,27,30,32,33,35],{"name":24,"content":8},"og:title",{"name":26,"content":9},"og:description",{"name":28,"content":29},"og:image","https://codybontecou.com/images/using-url-query-params-in-nuxt-3-meta.png",{"name":31,"content":8},"og:image:alt",{"name":24,"content":8},{"name":34,"content":8},"twitter:title",{"name":36,"content":8},"twitter:text:title","https://codybontecou.com/using-url-query-params-in-nuxt-3.html",[21,39,40],"vue-router","composition","2024-10-31T14:26","2024-12-12T11:10",{"type":44,"children":45,"toc":288},"root",[46,68,75,89,102,108,121,126,154,166,178,184,204,209,230,239,259,271,277],{"type":47,"tag":48,"props":49,"children":50},"element","blockquote",{},[51],{"type":47,"tag":52,"props":53,"children":54},"p",{},[55,58,66],{"type":56,"value":57},"text","This is a continuation of my previous ",{"type":47,"tag":59,"props":60,"children":64},"a",{"href":61,"rel":62},"https://codybontecou.com/silently-update-url-nuxt-3.html",[63],"nofollow",[65],{"type":56,"value":10},{"type":56,"value":67}," on how to set query parameters in Nuxt 3. We'll be continuing with the code written there so make sure you check it out.",{"type":47,"tag":69,"props":70,"children":72},"h2",{"id":71},"the-problem-were-solving",[73],{"type":56,"value":74},"The problem we're solving",{"type":47,"tag":52,"props":76,"children":77},{},[78,80,87],{"type":56,"value":79},"We left off with our URL looking like ",{"type":47,"tag":81,"props":82,"children":84},"code",{"className":83},[],[85],{"type":56,"value":86},"localhost:3000/test?streamer=faker",{"type":56,"value":88},". This is nice but contained a few cases that are less than ideal.",{"type":47,"tag":52,"props":90,"children":91},{},[92,94,100],{"type":56,"value":93},"Because the URL parameter is being updated using our input's v-model, if the page is refreshed, we lose that local state and the value stored in ",{"type":47,"tag":81,"props":95,"children":97},{"className":96},[],[98],{"type":56,"value":99},"twitchStreamer",{"type":56,"value":101},".",{"type":47,"tag":69,"props":103,"children":105},{"id":104},"using-useroute-in-nuxt",[106],{"type":56,"value":107},"Using useRoute in Nuxt",{"type":47,"tag":52,"props":109,"children":110},{},[111,113,119],{"type":56,"value":112},"NuxtJS relies on ",{"type":47,"tag":59,"props":114,"children":117},{"href":115,"rel":116},"https://router.vuejs.org/",[63],[118],{"type":56,"value":39},{"type":56,"value":120}," for most of its routing logic.",{"type":47,"tag":52,"props":122,"children":123},{},[124],{"type":56,"value":125},"In our example, we are using the Composition API, one of the new features built into Nuxt 3.",{"type":47,"tag":52,"props":127,"children":128},{},[129,131,137,139,145,147,152],{"type":56,"value":130},"In order to get our route, we use bring ",{"type":47,"tag":81,"props":132,"children":134},{"className":133},[],[135],{"type":56,"value":136},"useRoute()",{"type":56,"value":138}," into our ",{"type":47,"tag":81,"props":140,"children":142},{"className":141},[],[143],{"type":56,"value":144},"setup()",{"type":56,"value":146},". Nuxt 3 auto-imports ",{"type":47,"tag":81,"props":148,"children":150},{"className":149},[],[151],{"type":56,"value":136},{"type":56,"value":153}," so we can chose to be explicit or implicit.",{"type":47,"tag":155,"props":156,"children":161},"pre",{"className":157,"code":159,"language":160,"meta":6},[158],"language-js","setup() {\n  const route = useRoute()\n}\n","js",[162],{"type":47,"tag":81,"props":163,"children":164},{"__ignoreMap":6},[165],{"type":56,"value":159},{"type":47,"tag":52,"props":167,"children":168},{},[169,171,176],{"type":56,"value":170},"Having our route unlocks all of the benefits of ",{"type":47,"tag":81,"props":172,"children":174},{"className":173},[],[175],{"type":56,"value":39},{"type":56,"value":177},", including access to our query params!",{"type":47,"tag":69,"props":179,"children":181},{"id":180},"making-the-query-param-persist",[182],{"type":56,"value":183},"Making the query param persist",{"type":47,"tag":52,"props":185,"children":186},{},[187,189,195,197,203],{"type":56,"value":188},"With access to our route, we can check the query variable (what's after the = in ",{"type":47,"tag":81,"props":190,"children":192},{"className":191},[],[193],{"type":56,"value":194},"streamer=",{"type":56,"value":196},") using ",{"type":47,"tag":81,"props":198,"children":200},{"className":199},[],[201],{"type":56,"value":202},"route.query.streamer",{"type":56,"value":101},{"type":47,"tag":52,"props":205,"children":206},{},[207],{"type":56,"value":208},"Easy!",{"type":47,"tag":52,"props":210,"children":211},{},[212,214,221,223,228],{"type":56,"value":213},"I now use this logic alongside a ",{"type":47,"tag":59,"props":215,"children":218},{"href":216,"rel":217},"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator",[63],[219],{"type":56,"value":220},"ternary operator",{"type":56,"value":222}," with the ",{"type":47,"tag":81,"props":224,"children":226},{"className":225},[],[227],{"type":56,"value":99},{"type":56,"value":229}," variable.",{"type":47,"tag":155,"props":231,"children":234},{"className":232,"code":233,"language":160,"meta":6},[158],"const twitchStreamer = ref(route.query.streamer ? route.query.streamer : '')\n",[235],{"type":47,"tag":81,"props":236,"children":237},{"__ignoreMap":6},[238],{"type":56,"value":233},{"type":47,"tag":52,"props":240,"children":241},{},[242,244,249,251,257],{"type":56,"value":243},"Now, every time the page is navigated to or refreshed, our ",{"type":47,"tag":81,"props":245,"children":247},{"className":246},[],[248],{"type":56,"value":99},{"type":56,"value":250}," will check if our ",{"type":47,"tag":81,"props":252,"children":254},{"className":253},[],[255],{"type":56,"value":256},"route",{"type":56,"value":258}," has a streamer query parameter.",{"type":47,"tag":52,"props":260,"children":261},{},[262,264,269],{"type":56,"value":263},"If it does, our ",{"type":47,"tag":81,"props":265,"children":267},{"className":266},[],[268],{"type":56,"value":99},{"type":56,"value":270}," will contain the parameter's value. Otherwise, it'll be an empty string.",{"type":47,"tag":69,"props":272,"children":274},{"id":273},"final-code-snippet",[275],{"type":56,"value":276},"Final code snippet",{"type":47,"tag":155,"props":278,"children":283},{"className":279,"code":281,"language":282,"meta":6},[280],"language-html","\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n\n\u003Cscript>\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const twitchStreamer = ref(route.query.streamer ? route.query.streamer : '')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n","html",[284],{"type":47,"tag":81,"props":285,"children":286},{"__ignoreMap":6},[287],{"type":56,"value":281},{"title":6,"searchDepth":289,"depth":289,"links":290},2,[291,292,293,294],{"id":71,"depth":289,"text":74},{"id":104,"depth":289,"text":107},{"id":180,"depth":289,"text":183},{"id":273,"depth":289,"text":276},"markdown","content:using-url-query-params-in-nuxt-3.md","content","using-url-query-params-in-nuxt-3.md","using-url-query-params-in-nuxt-3","md",{"_path":302,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":303,"description":304,"type":10,"author":305,"date":306,"category":15,"dropdown":16,"tags":307,"meta":309,"canonicalUrl":61,"topics":318,"created_at":41,"last_modified":42,"body":319,"_type":295,"_id":584,"_source":297,"_file":585,"_stem":586,"_extension":300},"/silently-update-url-nuxt-3","Silently Update URL in Nuxt 3","Update your URL using vue-router within Nuxt 3 so that your page does not refresh on variable change.",{"name":12,"image":13},"2022-02-14",[18,19,308,21],"Javascript",[310,311,312,314,315,316,317],{"name":24,"content":303},{"name":26,"content":304},{"name":28,"content":313},"https://codybontecou.com/images/dynamic-search-queries-meta.png",{"name":31,"content":303},{"name":24,"content":303},{"name":34,"content":303},{"name":36,"content":303},[21,39],{"type":44,"children":320,"toc":577},[321,337,343,364,373,398,407,413,421,449,458,464,476,485,498,518,537,543,556,560,569],{"type":47,"tag":48,"props":322,"children":323},{},[324],{"type":47,"tag":52,"props":325,"children":326},{},[327,329,335],{"type":56,"value":328},"We often need to update a query parameter like ",{"type":47,"tag":81,"props":330,"children":332},{"className":331},[],[333],{"type":56,"value":334},"?search=hello",{"type":56,"value":336}," within our URL without refreshing the page. I'll quickly show you how to do that using Nuxt 3.",{"type":47,"tag":69,"props":338,"children":340},{"id":339},"collecting-user-input",[341],{"type":56,"value":342},"Collecting User Input",{"type":47,"tag":52,"props":344,"children":345},{},[346,348,354,356,362],{"type":56,"value":347},"For this tutorial, I'll be using a simple ",{"type":47,"tag":81,"props":349,"children":351},{"className":350},[],[352],{"type":56,"value":353},"\u003Cinput>",{"type":56,"value":355}," field with ",{"type":47,"tag":81,"props":357,"children":359},{"className":358},[],[360],{"type":56,"value":361},"v-model",{"type":56,"value":363}," to gather the query parameter.",{"type":47,"tag":155,"props":365,"children":368},{"className":366,"code":367,"language":282,"meta":6},[280],"\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n",[369],{"type":47,"tag":81,"props":370,"children":371},{"__ignoreMap":6},[372],{"type":56,"value":367},{"type":47,"tag":52,"props":374,"children":375},{},[376,381,383,390,392,397],{"type":47,"tag":81,"props":377,"children":379},{"className":378},[],[380],{"type":56,"value":99},{"type":56,"value":382}," is now a ",{"type":47,"tag":59,"props":384,"children":387},{"href":385,"rel":386},"https://vuejs.org/guide/extras/reactivity-in-depth.html",[63],[388],{"type":56,"value":389},"reactive variable",{"type":56,"value":391}," that we can work with within ",{"type":47,"tag":81,"props":393,"children":395},{"className":394},[],[396],{"type":56,"value":144},{"type":56,"value":101},{"type":47,"tag":155,"props":399,"children":402},{"className":400,"code":401,"language":160,"meta":6},[158],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n\u003C/script>\n",[403],{"type":47,"tag":81,"props":404,"children":405},{"__ignoreMap":6},[406],{"type":56,"value":401},{"type":47,"tag":69,"props":408,"children":410},{"id":409},"nuxt-3s-userouter",[411],{"type":56,"value":412},"Nuxt 3's useRouter()",{"type":47,"tag":48,"props":414,"children":415},{},[416],{"type":47,"tag":52,"props":417,"children":418},{},[419],{"type":56,"value":420},"I'm not sure what differences there are between Nuxt 2 and Nuxt 3, but so far there haven't been any.",{"type":47,"tag":52,"props":422,"children":423},{},[424,426,431,433,439,441,447],{"type":56,"value":425},"Within ",{"type":47,"tag":81,"props":427,"children":429},{"className":428},[],[430],{"type":56,"value":144},{"type":56,"value":432},", call the auto-imported functions ",{"type":47,"tag":81,"props":434,"children":436},{"className":435},[],[437],{"type":56,"value":438},"useRouter()",{"type":56,"value":440}," to gain access to the ",{"type":47,"tag":81,"props":442,"children":444},{"className":443},[],[445],{"type":56,"value":446},"router",{"type":56,"value":448}," object.",{"type":47,"tag":155,"props":450,"children":453},{"className":451,"code":452,"language":160,"meta":6},[158],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    return { twitchStreamer }\n\u003C/script>\n",[454],{"type":47,"tag":81,"props":455,"children":456},{"__ignoreMap":6},[457],{"type":56,"value":452},{"type":47,"tag":69,"props":459,"children":461},{"id":460},"connecting-v-model-input-to-our-url",[462],{"type":56,"value":463},"Connecting v-model input to our URL",{"type":47,"tag":52,"props":465,"children":466},{},[467,469,474],{"type":56,"value":468},"Now, set up a watcher to watch our ",{"type":47,"tag":81,"props":470,"children":472},{"className":471},[],[473],{"type":56,"value":99},{"type":56,"value":475}," v-model value so that every time it's value is updated, a bit of code is ran.",{"type":47,"tag":155,"props":477,"children":480},{"className":478,"code":479,"language":160,"meta":6},[158],"// pages/example.vue\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n",[481],{"type":47,"tag":81,"props":482,"children":483},{"__ignoreMap":6},[484],{"type":56,"value":479},{"type":47,"tag":52,"props":486,"children":487},{},[488,490,496],{"type":56,"value":489},"Every time the twitchStreamer value is changed, we push to our URL using ",{"type":47,"tag":59,"props":491,"children":494},{"href":492,"rel":493},"https://router.vuejs.org/guide/essentials/navigation.html",[63],[495],{"type":56,"value":39},{"type":56,"value":497}," with the updated query.",{"type":47,"tag":52,"props":499,"children":500},{},[501,503,509,511,517],{"type":56,"value":502},"The query parameter of ",{"type":47,"tag":81,"props":504,"children":506},{"className":505},[],[507],{"type":56,"value":508},".push",{"type":56,"value":510}," takes in a key and value. The key in this example is ",{"type":47,"tag":81,"props":512,"children":514},{"className":513},[],[515],{"type":56,"value":516},"streamer",{"type":56,"value":101},{"type":47,"tag":52,"props":519,"children":520},{},[521,523,529,530,535],{"type":56,"value":522},"Because of this, the url that is updated will look like ",{"type":47,"tag":81,"props":524,"children":526},{"className":525},[],[527],{"type":56,"value":528},"/test?streamer=",{"type":56,"value":222},{"type":47,"tag":81,"props":531,"children":533},{"className":532},[],[534],{"type":56,"value":99},{"type":56,"value":536}," value beind after the = sign.",{"type":47,"tag":69,"props":538,"children":540},{"id":539},"what-about-when-you-refresh-or-navigate",[541],{"type":56,"value":542},"What about when you refresh or navigate?",{"type":47,"tag":52,"props":544,"children":545},{},[546,548,554],{"type":56,"value":547},"There's a bit more to this topic but I decided to write a separate article ",{"type":47,"tag":59,"props":549,"children":551},{"href":37,"rel":550},[63],[552],{"type":56,"value":553},"here",{"type":56,"value":555},". Be sure to check if out if you are interested in how to deal with the query param on page refresh or direct navigation.",{"type":47,"tag":69,"props":557,"children":558},{"id":273},[559],{"type":56,"value":276},{"type":47,"tag":155,"props":561,"children":564},{"className":562,"code":563,"language":282,"meta":6},[280],"\u003C!-- pages/example.vue -->\n\u003Ctemplate>\n  \u003Cinput v-model=\"twitchStreamer\" />\n\u003C/template>\n\n\u003Cscript>\n  setup() {\n    const router = useRouter()\n    const twitchStreamer = ref('')\n\n    watch(twitchStreamer, (twitchStreamer, previous) => {\n      router.push({\n        path: '/test',\n        query: { streamer: twitchStreamer },\n      })\n    })\n\n    return { twitchStreamer }\n\u003C/script>\n",[565],{"type":47,"tag":81,"props":566,"children":567},{"__ignoreMap":6},[568],{"type":56,"value":563},{"type":47,"tag":52,"props":570,"children":571},{},[572],{"type":47,"tag":573,"props":574,"children":576},"img",{"alt":303,"src":575},"https://codybontecou.com/images/update-url.gif",[],{"title":6,"searchDepth":289,"depth":289,"links":578},[579,580,581,582,583],{"id":339,"depth":289,"text":342},{"id":409,"depth":289,"text":412},{"id":460,"depth":289,"text":463},{"id":539,"depth":289,"text":542},{"id":273,"depth":289,"text":276},"content:silently-update-url-nuxt-3.md","silently-update-url-nuxt-3.md","silently-update-url-nuxt-3",1734029072711]